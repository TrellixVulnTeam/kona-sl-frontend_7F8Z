(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{YcRM:function(t,e,n){"use strict";n.r(e),n.d(e,"ROUTES",function(){return N}),n.d(e,"DepartmentModule",function(){return x});var r=n("SVse"),i=n("tyjX"),o=n("8Y7J"),s=n("iInd"),c=n("EApP"),a=n("G0yt"),l=n("s7LF"),b=n("PoOM"),u=n("jgEc"),d=n("W2O4"),p=n("UPO+"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function m(t,e){1&t&&(o.Qb(0,"small",13),o.Lc(1,"Role required"),o.Pb())}function v(t,e){1&t&&(o.Qb(0,"small",13),o.Lc(1,"Role required"),o.Pb())}function h(t,e){if(1&t&&(o.Qb(0,"span",13),o.Lc(1),o.Pb()),2&t){var n=o.ec();o.zb(1),o.Nc(" ",n.getFormValidationErrors()," ")}}var g=function(t,e,n){return{disabled:t,"btn-warning":e,"btn-success":n}},L=function(){function t(t,e,n,r,i,s){this.fb=t,this.calendar=e,this.dataSource=n,this.divisionService=r,this.http=s,this.createDropDownList=new o.n,this.create=new o.n,this.edit=!1,this.mouseoverShifting=!1,this.dropdownList=[],this.selectedList=[],i.spinners=!1,this.createForm()}return t.prototype.createForm=function(){this.form=this.fb.group({name:["",l.w.required],division:["",l.w.required]})},t.prototype.getDivisionList=function(){return t=this,void 0,n=function(){var t=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,function(e){try{this.http.get(this.dataSource.baseUrl+this.divisionService.listUrl,{headers:this.dataSource.getAuthorizationHeader()}).subscribe({next:function(e){var n=e.json();if(200===n.statusCode||201===n.statusCode){t.divisionList=n.content;for(var r=[],i=0;i<t.divisionList.length;i++)r.push({id:t.divisionList[i].id,name:t.divisionList[i].name});t.dropdownList=r,t.selectedList=[]}},error:function(t){console.error("There was an error!",t)}})}catch(n){console.log(n)}return[2]})},new((e=void 0)||(e=Promise))(function(r,i){function o(t){try{c(n.next(t))}catch(e){i(e)}}function s(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(o,s)}c((n=n.apply(t,[])).next())});var t,e,n},t.prototype.submit=function(){if(this.form.valid){if(this.createDropDownList.emit(this.selectedList),this.edit){var t=f({id:this.department.id},this.form.value);this.create.emit(t)}else this.create.emit(this.form.value);this.edit=!1,this.form.reset(),this.createForm()}},t.prototype.getFormValidationErrors=function(){return""+this.getFormGroupValidationErrors(this.form)},t.prototype.getFormGroupValidationErrors=function(t){var e="";return Object.keys(t.controls).forEach(function(n){var r=t.get(n).errors;null!=r&&Object.keys(r).forEach(function(t){e+=n+" : "+t+"; "})}),e},t.prototype.ngOnInit=function(){this.dropdownSettings={singleSelection:!0,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.getDivisionList()},t.prototype.onItemSelect=function(t){},t.prototype.onDeSelect=function(t){},t.\u0275fac=function(e){return new(e||t)(o.Lb(l.d),o.Lb(a.b),o.Lb(u.a),o.Lb(b.a),o.Lb(a.x),o.Lb(d.b))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-department-form"]],inputs:{department:"department"},outputs:{createDropDownList:"createDropDownList",create:"create"},decls:23,vars:16,consts:[[1,"container-fluid"],[1,"my-3","p-4","shifting-form","label1","text-left",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["for","division"],[1,"required-indicator"],["id","division","name","division",3,"formControl","placeholder","settings","data","ngModel","ngModelChange","onSelect","onDeSelect"],["class","text-danger",4,"ngIf"],["for","name"],["id","name",1,"form-control",3,"formControl"],[1,"d-flex","flex-row-reverse","bd-highlight",2,"padding-top","20px"],[3,"mouseenter"],["type","submit","type","submit",1,"btn","btn-warning","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"form",1),o.bc("ngSubmit",function(){return e.submit()}),o.Qb(2,"div",2),o.Qb(3,"div",3),o.Qb(4,"label",4),o.Lc(5,"Division "),o.Qb(6,"span",5),o.Lc(7,"*"),o.Pb(),o.Pb(),o.Qb(8,"ng-multiselect-dropdown",6),o.bc("ngModelChange",function(t){return e.selectedList=t})("onSelect",function(t){return e.onItemSelect(t)})("onDeSelect",function(t){return e.onDeSelect(t)}),o.Pb(),o.Jc(9,m,2,0,"small",7),o.Pb(),o.Pb(),o.Qb(10,"div",2),o.Qb(11,"div",3),o.Qb(12,"label",8),o.Lc(13,"Department Name "),o.Qb(14,"span",5),o.Lc(15,"*"),o.Pb(),o.Pb(),o.Mb(16,"input",9),o.Jc(17,v,2,0,"small",7),o.Pb(),o.Pb(),o.Qb(18,"div",10),o.Qb(19,"span",11),o.bc("mouseenter",function(){return e.mouseoverShifting=!0}),o.Qb(20,"button",12),o.Lc(21),o.Pb(),o.Pb(),o.Jc(22,h,2,1,"span",7),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.zb(1),o.mc("formGroup",e.form),o.zb(7),o.mc("formControl",e.form.controls.division)("placeholder","Select Division")("settings",e.dropdownSettings)("data",e.dropdownList)("ngModel",e.selectedList),o.zb(1),o.mc("ngIf",(null==e.form.controls.name.errors?null:e.form.controls.name.errors.required)&&e.form.controls.name.dirty),o.zb(7),o.mc("formControl",e.form.controls.name),o.zb(1),o.mc("ngIf",(null==e.form.controls.name.errors?null:e.form.controls.name.errors.required)&&e.form.controls.name.dirty),o.zb(3),o.mc("ngClass",o.sc(12,g,e.form.invalid,e.edit,!e.edit)),o.zb(1),o.Nc(" ",e.edit?"Update":"Create"," Department "),o.zb(1),o.mc("ngIf",e.mouseoverShifting))},directives:[l.y,l.o,l.h,p.a,l.n,l.f,r.p,l.b,r.n],styles:[".required-indicator[_ngcontent-%COMP%]{color:red}.row[_ngcontent-%COMP%]{padding-top:10px}"]}),t}(),y=n("XNiG"),w=n("oTcB");function P(t,e){if(1&t&&(o.Qb(0,"tr"),o.Qb(1,"td"),o.Lc(2),o.Pb(),o.Qb(3,"td"),o.Lc(4),o.Pb(),o.Pb()),2&t){var n=e.$implicit;o.zb(2),o.Nc(" ",n.division.name," "),o.zb(2),o.Nc(" ",n.name," ")}}var S=function(){function t(t){this.restDataService=t,this.dtOptions={},this.dtTrigger=new y.a}return t.prototype.ngOnInit=function(){this.dtOptions={pagingType:"full_numbers"},this.getCounterUserList()},t.prototype.getCounterUserList=function(){var t=this;this.restDataService.sendAuthenticateGetRequestObserver("api/v1/departments/list","").subscribe(function(e){t.responseModel=e,t.departments=t.responseModel.content,t.dtTrigger.next()})},t.\u0275fac=function(e){return new(e||t)(o.Lb(u.a))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-list-form"]],inputs:{departments:"departments"},decls:15,vars:3,consts:[["datatable","",1,"table","table-hover","table-responsive-sm","border",3,"dtOptions","dtTrigger"],[2,"background-color","#f8f9fa"],["colspan","2"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"pl-3"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o.Qb(0,"table",0),o.Qb(1,"thead"),o.Qb(2,"tr",1),o.Qb(3,"td",2),o.Qb(4,"div",3),o.Qb(5,"div",4),o.Qb(6,"h5",5),o.Lc(7,"List of Departments"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(8,"tr"),o.Qb(9,"th",6),o.Lc(10,"Division Name"),o.Pb(),o.Qb(11,"th"),o.Lc(12,"Department Name"),o.Pb(),o.Pb(),o.Pb(),o.Qb(13,"tbody"),o.Jc(14,P,5,2,"tr",7),o.Pb(),o.Pb()),2&t&&(o.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),o.zb(14),o.mc("ngForOf",e.departments))},directives:[w.a,r.o],styles:[""]}),t}();function Q(t,e){if(1&t){var n=o.Rb();o.Qb(0,"app-department-form",7),o.bc("createDropDownList",function(t){return o.Ac(n),o.ec().onCreateDropDownList(t)})("create",function(t){return o.Ac(n),o.ec().onCreate(t)}),o.Pb()}if(2&t){var r=o.ec();o.mc("department",r.department)}}function D(t,e){1&t&&(o.Ob(0),o.Mb(1,"app-list-form"),o.Nb())}var C=function(){function t(t,e,n){this.departmentService=t,this.activeRoute=e,this.toastrService=n,this.activeNav=1,this.id=e.snapshot.params.id}return t.prototype.ngOnInit=function(){},t.prototype.onCreateDropDownList=function(t){try{this.selectedList=t}catch(e){console.log(e)}},t.prototype.onCreate=function(t){var e=this;return t.division=t.division[0],this.departmentService.create(t).subscribe(function(t){t.statusCode<400?e.toastrService.success(t.message,"Success"):e.toastrService.error(t.message,"Error")})},t.\u0275fac=function(e){return new(e||t)(o.Lb(i.a),o.Lb(s.a),o.Lb(c.b))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-add"]],decls:12,vars:4,consts:[[1,"container"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"department","createDropDownList","create"]],template:function(t,e){if(1&t&&(o.Qb(0,"div",0),o.Qb(1,"ul",1,2),o.bc("activeIdChange",function(t){return e.activeNav=t}),o.Qb(3,"li",3),o.Qb(4,"a",4),o.Lc(5,"Create"),o.Pb(),o.Jc(6,Q,1,1,"ng-template",5),o.Pb(),o.Qb(7,"li",3),o.Qb(8,"a",4),o.Lc(9,"List"),o.Pb(),o.Jc(10,D,2,0,"ng-template",5),o.Pb(),o.Pb(),o.Mb(11,"div",6),o.Pb()),2&t){var n=o.xc(2);o.zb(1),o.mc("activeId",e.activeNav),o.zb(2),o.mc("ngbNavItem",1),o.zb(4),o.mc("ngbNavItem",2),o.zb(4),o.mc("ngbNavOutlet",n)}},directives:[a.n,a.p,a.q,a.o,a.s,L,S],styles:[""]}),t}(),O=n("KZX/"),N=[{path:"add",component:C}],x=function(){function t(){}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[r.c,l.u,s.d.forChild(N),O.a,p.b,w.b]]}),t}()}}]);