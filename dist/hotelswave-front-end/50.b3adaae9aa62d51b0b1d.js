(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"v+c8":function(e,t,r){"use strict";r.r(t),r.d(t,"ROUTES",function(){return C}),r.d(t,"UserStatusModule",function(){return I});var o=r("SVse"),n=r("4pzL"),i=r("/e7+"),s=r("8Y7J"),a=r("iInd"),c=r("EApP"),l=r("G0yt"),u=r("s7LF"),b=r("ijA0"),m=r("jgEc"),f=r("W2O4"),d=r("UPO+"),p=function(){return(p=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function v(e,t){1&e&&(s.Qb(0,"small",20),s.Lc(1,"Employee required"),s.Pb())}function h(e,t){1&e&&(s.Qb(0,"small",20),s.Lc(1,"Status required"),s.Pb())}function g(e,t){1&e&&(s.Qb(0,"small",20),s.Lc(1,"Effective Date required"),s.Pb())}function L(e,t){1&e&&(s.Qb(0,"small",20),s.Lc(1,"Reason required"),s.Pb())}function y(e,t){if(1&e&&(s.Qb(0,"span",20),s.Lc(1),s.Pb()),2&e){var r=s.ec();s.zb(1),s.Nc(" ",r.getFormValidationErrors()," ")}}var P=function(e,t,r){return{disabled:e,"btn-warning":t,"btn-success":r}},S=function(){function e(e,t,r,o,n,i){this.fb=e,this.calendar=t,this.employeeService=r,this.dataSource=o,this.http=n,this.create=new s.n,this.edit=!1,this.mouseoverShifting=!1,this.dropdownList=[],this.selectedList=[],i.spinners=!1,this.createForm()}return e.prototype.createForm=function(){this.form=this.fb.group({employee:["",u.w.required],status:["",u.w.required],effectiveDate:["",u.w.required],reason:["",u.w.required]})},e.prototype.submit=function(){if(this.form.valid){if(this.edit){var e=p({id:this.userStatus.id},this.form.value);this.create.emit(e)}else this.create.emit(this.form.value);this.edit=!1,this.form.reset(),this.createForm()}},e.prototype.getFormValidationErrors=function(){return""+this.getFormGroupValidationErrors(this.form)},e.prototype.getFormGroupValidationErrors=function(e){var t="";return Object.keys(e.controls).forEach(function(r){var o=e.get(r).errors;null!=o&&Object.keys(o).forEach(function(e){t+=r.split(/(?=[A-Z])/).join(" ")+" : "+e+"; "})}),t},e.prototype.getEmployeeList=function(){var e=this;try{this.http.get(this.dataSource.baseUrl+this.employeeService.listUrl,{headers:this.dataSource.getAuthorizationHeader()}).subscribe({next:function(t){var r=t.json();if(200===r.statusCode||201===r.statusCode){e.employeeList=r.content;for(var o=[],n=0;n<e.employeeList.length;n++)o.push({id:e.employeeList[n].id,name:e.employeeList[n].title+" "+e.employeeList[n].firstName+" "+e.employeeList[n].lastName+" ("+e.employeeList[n].code+")"});e.dropdownList=o,e.selectedList=[]}},error:function(e){console.error("There was an error!",e)}})}catch(t){console.log(t)}},e.prototype.ngOnInit=function(){this.dropdownSettings={singleSelection:!0,idField:"id",textField:"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0},this.getEmployeeList()},e.\u0275fac=function(t){return new(t||e)(s.Lb(u.d),s.Lb(l.b),s.Lb(b.a),s.Lb(m.a),s.Lb(f.b),s.Lb(l.x))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-user-status-form"]],inputs:{userStatus:"userStatus"},outputs:{create:"create"},decls:49,vars:16,consts:[[1,"container-fluid"],[1,"my-3","p-4","shifting-form","label1","text-left",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["for","employee"],[1,"required-indicator"],["id","employee","name","employee",3,"formControl","placeholder","settings","data","ngModel","ngModelChange"],["class","text-danger",4,"ngIf"],["formControlName","status","id","status","name","status",1,"form-control"],["value",""],["value","ACTIVE"],["value","INACTIVE"],["value","LOCKED"],["value","LEAVE"],["value","RETIREMENT"],["name","effectiveDate","formControlName","effectiveDate","id","effectiveDate","type","date",1,"form-control"],["name","reason","formControlName","reason","id","reason",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight",2,"padding-top","20px"],[3,"mouseenter"],["type","submit","type","submit",1,"btn","btn-warning","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"form",1),s.bc("ngSubmit",function(){return t.submit()}),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"label",4),s.Lc(5,"Employee Name "),s.Qb(6,"span",5),s.Lc(7,"*"),s.Pb(),s.Pb(),s.Qb(8,"ng-multiselect-dropdown",6),s.bc("ngModelChange",function(e){return t.selectedList=e}),s.Pb(),s.Jc(9,v,2,0,"small",7),s.Pb(),s.Qb(10,"div",3),s.Qb(11,"label",4),s.Lc(12,"Status "),s.Qb(13,"span",5),s.Lc(14,"*"),s.Pb(),s.Pb(),s.Qb(15,"select",8),s.Qb(16,"option",9),s.Lc(17,"--Select One--"),s.Pb(),s.Qb(18,"option",10),s.Lc(19,"ACTIVE"),s.Pb(),s.Qb(20,"option",11),s.Lc(21,"INACTIVE"),s.Pb(),s.Qb(22,"option",12),s.Lc(23,"LOCKED"),s.Pb(),s.Qb(24,"option",13),s.Lc(25,"LEAVE"),s.Pb(),s.Qb(26,"option",14),s.Lc(27,"RETIREMENT"),s.Pb(),s.Pb(),s.Jc(28,h,2,0,"small",7),s.Pb(),s.Pb(),s.Qb(29,"div",2),s.Qb(30,"div",3),s.Qb(31,"label",4),s.Lc(32,"Effective Date "),s.Qb(33,"span",5),s.Lc(34,"*"),s.Pb(),s.Pb(),s.Mb(35,"input",15),s.Jc(36,g,2,0,"small",7),s.Pb(),s.Qb(37,"div",3),s.Qb(38,"label",4),s.Lc(39,"Reason "),s.Qb(40,"span",5),s.Lc(41,"*"),s.Pb(),s.Pb(),s.Mb(42,"input",16),s.Jc(43,L,2,0,"small",7),s.Pb(),s.Pb(),s.Qb(44,"div",17),s.Qb(45,"span",18),s.bc("mouseenter",function(){return t.mouseoverShifting=!0}),s.Qb(46,"button",19),s.Lc(47," Submit "),s.Pb(),s.Pb(),s.Jc(48,y,2,1,"span",7),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.zb(1),s.mc("formGroup",t.form),s.zb(7),s.mc("formControl",t.form.controls.employee)("placeholder","Select Employee")("settings",t.dropdownSettings)("data",t.dropdownList)("ngModel",t.selectedList),s.zb(1),s.mc("ngIf",(null==t.form.controls.employee.errors?null:t.form.controls.employee.errors.required)&&t.form.controls.employee.dirty),s.zb(19),s.mc("ngIf",(null==t.form.controls.status.errors?null:t.form.controls.status.errors.required)&&t.form.controls.status.dirty),s.zb(8),s.mc("ngIf",(null==t.form.controls.effectiveDate.errors?null:t.form.controls.effectiveDate.errors.required)&&t.form.controls.effectiveDate.dirty),s.zb(7),s.mc("ngIf",(null==t.form.controls.reason.errors?null:t.form.controls.reason.errors.required)&&t.form.controls.reason.dirty),s.zb(3),s.mc("ngClass",s.sc(12,P,t.form.invalid,t.edit,!t.edit)),s.zb(2),s.mc("ngIf",t.mouseoverShifting))},directives:[u.y,u.o,u.h,d.a,u.n,u.f,o.p,u.v,u.g,u.r,u.x,u.b,o.n],styles:[""]}),e}();function Q(e,t){if(1&e){var r=s.Rb();s.Qb(0,"app-user-status-form",7),s.bc("create",function(e){return s.Ac(r),s.ec().onCreate(e)}),s.Pb()}if(2&e){var o=s.ec();s.mc("userStatus",o.userStatus)}}var E=function(){function e(e,t,r,o){this.organogramService=e,this.utilService=t,this.activeRoute=r,this.toastrService=o,this.activeNav=1,this.id=r.snapshot.params.id}return e.prototype.ngOnInit=function(){},e.prototype.onCreate=function(e){var t=this;return e.employeeId=e.employee[0].id,this.organogramService.changeUserStatus(e).subscribe(function(e){e.statusCode<400?t.toastrService.success(e.message,"Success"):t.toastrService.error(e.message,"Error")})},e.\u0275fac=function(t){return new(t||e)(s.Lb(n.a),s.Lb(i.a),s.Lb(a.a),s.Lb(c.b))},e.\u0275cmp=s.Fb({type:e,selectors:[["app-add"]],decls:8,vars:3,consts:[[1,"container"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"userStatus","create"]],template:function(e,t){if(1&e&&(s.Qb(0,"div",0),s.Qb(1,"ul",1,2),s.bc("activeIdChange",function(e){return t.activeNav=e}),s.Qb(3,"li",3),s.Qb(4,"a",4),s.Lc(5,"Create"),s.Pb(),s.Jc(6,Q,1,1,"ng-template",5),s.Pb(),s.Pb(),s.Mb(7,"div",6),s.Pb()),2&e){var r=s.xc(2);s.zb(1),s.mc("activeId",t.activeNav),s.zb(2),s.mc("ngbNavItem",1),s.zb(4),s.mc("ngbNavOutlet",r)}},directives:[l.n,l.p,l.q,l.o,l.s,S],styles:[""]}),e}(),w=r("KZX/"),C=[{path:"change",component:E}],I=function(){function e(){}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},imports:[[o.c,u.u,a.d.forChild(C),w.a,d.b]]}),e}()}}]);