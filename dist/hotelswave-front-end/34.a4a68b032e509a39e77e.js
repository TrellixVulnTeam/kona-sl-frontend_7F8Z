(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{BbBs:function(e,t,r){"use strict";r.r(t),r.d(t,"ROUTES",function(){return V}),r.d(t,"AgentUserModule",function(){return j});var n=r("SVse"),o=r("OADG"),i=r("8Y7J"),s=r("iInd"),c=r("EApP"),a=r("G0yt"),b=r("s7LF"),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t){1&e&&(i.Qb(0,"small",20),i.Lc(1,"Name required"),i.Pb())}function m(e,t){1&e&&(i.Qb(0,"small",20),i.Lc(1,"Is Prepaid Agent required"),i.Pb())}function f(e,t){1&e&&(i.Qb(0,"small",20),i.Lc(1,"Phone no required"),i.Pb())}function d(e,t){1&e&&(i.Qb(0,"small",20),i.Lc(1,"Commission Percent required"),i.Pb())}function p(e,t){1&e&&(i.Qb(0,"small",20),i.Lc(1,"Agent email required"),i.Pb())}function g(e,t){if(1&e&&(i.Qb(0,"span",20),i.Lc(1),i.Pb()),2&e){var r=i.ec();i.zb(1),i.Nc(" ",r.getFormValidationErrors()," ")}}var v=function(e,t,r){return{disabled:e,"btn-warning":t,"btn-success":r}},h=function(){function e(e,t,r){this.fb=e,this.calendar=t,this.create=new i.n,this.edit=!1,this.mouseoverShifting=!1,r.spinners=!1,this.createForm()}return e.prototype.createForm=function(){this.form=this.fb.group({name:["",b.w.required],commissionPercent:["",b.w.required],phoneNo:["",[b.w.required,b.w.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],email:[""],isPrepaid:["",b.w.required]})},e.prototype.submit=function(){if(this.form.valid){if(this.edit){var e=l({id:this.agent.id},this.form.value);this.create.emit(e)}else this.create.emit(this.form.value);this.edit=!1,this.form.reset(),this.createForm()}},e.prototype.getFormValidationErrors=function(){return""+this.getFormGroupValidationErrors(this.form)},e.prototype.getFormGroupValidationErrors=function(e){var t="";return Object.keys(e.controls).forEach(function(r){var n=e.get(r).errors;null!=n&&Object.keys(n).forEach(function(e){t+=r+" : "+e+"; "})}),t},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(i.Lb(b.d),i.Lb(a.b),i.Lb(a.x))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-agent-form"]],inputs:{agent:"agent"},outputs:{create:"create"},decls:50,vars:13,consts:[[1,"container-fluid"],[1,"my-3","p-4","shifting-form","label1","text-left",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["for","name"],[1,"required-indicator"],["formControlName","name","id","name",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","isPrepaid","id","isPrepaid",1,"form-control"],["value",""],["value","1"],["value","0"],["for","phoneNo"],["formControlName","phoneNo","id","phoneNo",1,"form-control"],["type","number","min","0","max","100","formControlName","commissionPercent","id","commissionPercent",1,"form-control"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight",2,"padding-top","20px"],[3,"mouseenter"],["type","submit","type","submit",1,"btn","btn-warning","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Qb(0,"div",0),i.Qb(1,"form",1),i.bc("ngSubmit",function(){return t.submit()}),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"label",4),i.Lc(5,"Name "),i.Qb(6,"span",5),i.Lc(7,"*"),i.Pb(),i.Pb(),i.Mb(8,"input",6),i.Jc(9,u,2,0,"small",7),i.Pb(),i.Qb(10,"div",3),i.Qb(11,"label",4),i.Lc(12,"Is Prepaid Agent? "),i.Qb(13,"span",5),i.Lc(14,"*"),i.Pb(),i.Pb(),i.Qb(15,"select",8),i.Qb(16,"option",9),i.Lc(17,"-- Select One--"),i.Pb(),i.Qb(18,"option",10),i.Lc(19,"Yes"),i.Pb(),i.Qb(20,"option",11),i.Lc(21,"No"),i.Pb(),i.Pb(),i.Jc(22,m,2,0,"small",7),i.Pb(),i.Pb(),i.Qb(23,"div",2),i.Qb(24,"div",3),i.Qb(25,"label",12),i.Lc(26,"Phone No "),i.Qb(27,"span",5),i.Lc(28,"*"),i.Pb(),i.Pb(),i.Mb(29,"input",13),i.Jc(30,f,2,0,"small",7),i.Pb(),i.Pb(),i.Qb(31,"div",2),i.Qb(32,"div",3),i.Qb(33,"label",12),i.Lc(34,"Commission In Percentage"),i.Qb(35,"span",5),i.Lc(36,"*"),i.Pb(),i.Pb(),i.Mb(37,"input",14),i.Jc(38,d,2,0,"small",7),i.Pb(),i.Pb(),i.Qb(39,"div",2),i.Qb(40,"div",3),i.Qb(41,"label",15),i.Lc(42,"Email"),i.Pb(),i.Mb(43,"input",16),i.Jc(44,p,2,0,"small",7),i.Pb(),i.Pb(),i.Qb(45,"div",17),i.Qb(46,"span",18),i.bc("mouseenter",function(){return t.mouseoverShifting=!0}),i.Qb(47,"button",19),i.Lc(48),i.Pb(),i.Pb(),i.Jc(49,g,2,1,"span",7),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.zb(1),i.mc("formGroup",t.form),i.zb(8),i.mc("ngIf",(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required)&&t.form.controls.name.dirty),i.zb(13),i.mc("ngIf",(null==t.form.controls.isPrepaid.errors?null:t.form.controls.isPrepaid.errors.required)&&t.form.controls.isPrepaid.dirty),i.zb(8),i.mc("ngIf",(null==t.form.controls.phoneNo.errors?null:t.form.controls.phoneNo.errors.required)&&t.form.controls.phoneNo.dirty),i.zb(8),i.mc("ngIf",(null==t.form.controls.commissionPercent.errors?null:t.form.controls.commissionPercent.errors.required)&&t.form.controls.commissionPercent.dirty),i.zb(6),i.mc("ngIf",(null==t.form.controls.email.errors?null:t.form.controls.email.errors.required)&&t.form.controls.email.dirty),i.zb(3),i.mc("ngClass",i.sc(9,v,t.form.invalid,t.edit,!t.edit)),i.zb(1),i.Nc(" ",t.edit?"Update":"Create"," "),i.zb(1),i.mc("ngIf",t.mouseoverShifting))},directives:[b.y,b.o,b.h,b.b,b.n,b.g,n.p,b.v,b.r,b.x,b.s,n.n],styles:[""]}),e}(),P=r("XNiG"),Q=r("jgEc"),y=r("oTcB");function L(e,t){if(1&e&&(i.Qb(0,"span",10),i.Lc(1),i.Pb()),2&e){var r=t.$implicit,n=t.index,o=i.ec().$implicit;i.zb(1),i.Oc(" ",r.name," ",n+1==(null==o?null:o.roles.length)?"":","," ")}}function N(e,t){if(1&e){var r=i.Rb();i.Qb(0,"div"),i.Qb(1,"button",11),i.bc("click",function(){i.Ac(r);var e=i.ec().$implicit;return i.ec().enableDisable(null==e?null:e.id)}),i.Lc(2,"Disable"),i.Pb(),i.Pb()}}function C(e,t){if(1&e){var r=i.Rb();i.Qb(0,"div"),i.Qb(1,"button",12),i.bc("click",function(){i.Ac(r);var e=i.ec().$implicit;return i.ec().enableDisable(null==e?null:e.id)}),i.Lc(2,"Enable"),i.Pb(),i.Pb()}}function I(e,t){if(1&e&&(i.Qb(0,"tr"),i.Qb(1,"td"),i.Lc(2),i.Mb(3,"br"),i.Jc(4,L,2,2,"span",8),i.Pb(),i.Qb(5,"td"),i.Lc(6),i.Mb(7,"br"),i.Lc(8),i.Pb(),i.Qb(9,"td"),i.Lc(10),i.Pb(),i.Qb(11,"td"),i.Lc(12),i.Pb(),i.Qb(13,"td"),i.Jc(14,N,3,0,"div",9),i.Jc(15,C,3,0,"div",9),i.Pb(),i.Pb()),2&e){var r=t.$implicit;i.zb(2),i.Nc(" ",r.name," "),i.zb(2),i.mc("ngForOf",null==r?null:r.roles),i.zb(2),i.Nc(" ",r.phoneNumber," "),i.zb(2),i.Nc(" ",r.email," "),i.zb(2),i.Nc(" ",r.commissionPercent," % "),i.zb(2),i.Mc(r.isActive?"ACTIVE":"INACTIVE"),i.zb(2),i.mc("ngIf",null==r?null:r.isActive),i.zb(1),i.mc("ngIf",!(null!=r&&r.isActive))}}var w=function(){function e(e,t){this.restDataService=e,this.toast=t,this.dtOptions={},this.dtTrigger=new P.a}return e.prototype.ngOnInit=function(){this.dtOptions={pagingType:"full_numbers"},this.getCounterUserList()},e.prototype.getCounterUserList=function(){var e=this;this.restDataService.sendAuthenticateGetRequestObserver("api/v1/agents/list","").subscribe(function(t){e.responseModel=t,e.users=e.responseModel.content,e.dtTrigger.next()})},e.prototype.enableDisable=function(e){var t=this;""!==e&&void 0!==e&&confirm("Are you sure ?")&&this.restDataService.sendAuthenticateGetRequestObserver("api/v1/serviceAdmin/"+e,"").subscribe(function(e){if(e.statusCode>400)return t.getCounterUserList(),void t.toast.success(""+(null==e?void 0:e.message));t.toast.info(""+(null==e?void 0:e.message))})},e.\u0275fac=function(t){return new(t||e)(i.Lb(Q.a),i.Lb(c.b))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-list"]],inputs:{users:"users"},decls:23,vars:3,consts:[["datatable","",1,"table","table-hover","table-responsive-sm","border",3,"dtOptions","dtTrigger"],[2,"background-color","#f8f9fa"],["colspan","4"],[1,"row"],[1,"col"],[1,"mr-auto"],[1,"pl-3"],[4,"ngFor","ngForOf"],["class","user_role",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"user_role"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(i.Qb(0,"table",0),i.Qb(1,"thead"),i.Qb(2,"tr",1),i.Qb(3,"td",2),i.Qb(4,"div",3),i.Qb(5,"div",4),i.Qb(6,"h5",5),i.Lc(7,"List of Agents"),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(8,"tr"),i.Qb(9,"th",6),i.Lc(10,"Name"),i.Pb(),i.Qb(11,"th"),i.Lc(12,"Phone "),i.Mb(13,"br"),i.Lc(14,"Email "),i.Pb(),i.Qb(15,"th"),i.Lc(16,"Commission"),i.Pb(),i.Qb(17,"th"),i.Lc(18,"Status"),i.Pb(),i.Qb(19,"th"),i.Lc(20,"Action"),i.Pb(),i.Pb(),i.Pb(),i.Qb(21,"tbody"),i.Jc(22,I,16,8,"tr",7),i.Pb(),i.Pb()),2&e&&(i.mc("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),i.zb(22),i.mc("ngForOf",t.users))},directives:[y.a,n.o,n.p],styles:[""]}),e}();function z(e,t){if(1&e){var r=i.Rb();i.Qb(0,"app-agent-form",7),i.bc("create",function(e){return i.Ac(r),i.ec().onCreate(e)}),i.Pb()}if(2&e){var n=i.ec();i.mc("agent",n.agent)}}function O(e,t){1&e&&(i.Ob(0),i.Mb(1,"app-list"),i.Nb())}var q=function(){function e(e,t,r){this.agentService=e,this.activeRoute=t,this.toastrService=r,this.activeNav=1,this.id=t.snapshot.params.id}return e.prototype.ngOnInit=function(){},e.prototype.onCreate=function(e){var t=this;return e.isPrepaidAgent="1"===e.isPrepaid,this.agentService.create(e).subscribe(function(e){e.statusCode<400?t.toastrService.success(e.message,"Success"):t.toastrService.error(e.message,"Error")})},e.\u0275fac=function(t){return new(t||e)(i.Lb(o.a),i.Lb(s.a),i.Lb(c.b))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-add"]],decls:12,vars:4,consts:[[1,"container"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"agent","create"]],template:function(e,t){if(1&e&&(i.Qb(0,"div",0),i.Qb(1,"ul",1,2),i.bc("activeIdChange",function(e){return t.activeNav=e}),i.Qb(3,"li",3),i.Qb(4,"a",4),i.Lc(5,"Create"),i.Pb(),i.Jc(6,z,1,1,"ng-template",5),i.Pb(),i.Qb(7,"li",3),i.Qb(8,"a",4),i.Lc(9,"List"),i.Pb(),i.Jc(10,O,2,0,"ng-template",5),i.Pb(),i.Pb(),i.Mb(11,"div",6),i.Pb()),2&e){var r=i.xc(2);i.zb(1),i.mc("activeId",t.activeNav),i.zb(2),i.mc("ngbNavItem",1),i.zb(4),i.mc("ngbNavItem",2),i.zb(4),i.mc("ngbNavOutlet",r)}},directives:[a.n,a.p,a.q,a.o,a.s,h,w],styles:[""]}),e}(),S=r("KZX/"),F=function(){return(F=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function A(e,t){1&e&&(i.Qb(0,"small",16),i.Lc(1,"Company name required"),i.Pb())}function x(e,t){1&e&&(i.Qb(0,"small",16),i.Lc(1,"Phone no required"),i.Pb())}function E(e,t){1&e&&(i.Qb(0,"small",16),i.Lc(1,"Address required"),i.Pb())}function J(e,t){1&e&&(i.Qb(0,"small",16),i.Lc(1,"Name required"),i.Pb())}function M(e,t){if(1&e&&(i.Qb(0,"span",16),i.Lc(1),i.Pb()),2&e){var r=i.ec();i.zb(1),i.Nc(" ",r.getFormValidationErrors()," ")}}var G=function(e,t,r){return{disabled:e,"btn-warning":t,"btn-success":r}},k=function(){function e(e){this.fb=e,this.create=new i.n,this.edit=!1,this.mouseoverShifting=!1,this.createForm()}return e.prototype.createForm=function(){this.form=this.fb.group({companyName:["",b.w.required],phoneNo:["",[b.w.required,b.w.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],name:["",b.w.required],address:["",b.w.required]})},e.prototype.submit=function(){if(this.form.valid){if(this.edit){var e=F({id:this.agent.id},this.form.value);this.create.emit(e)}else this.create.emit(this.form.value);this.edit=!1,this.form.reset(),this.createForm()}},e.prototype.getFormValidationErrors=function(){return""+this.getFormGroupValidationErrors(this.form)},e.prototype.getFormGroupValidationErrors=function(e){var t="";return Object.keys(e.controls).forEach(function(r){var n=e.get(r).errors;null!=n&&Object.keys(n).forEach(function(e){t+=r+" : "+e+"; "})}),t},e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(i.Lb(b.d))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-update-info-form"]],inputs:{agent:"agent"},outputs:{create:"create"},decls:37,vars:11,consts:[[1,"container-fluid"],[1,"my-3","p-4","shifting-form","label1","text-left",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6"],["for","companyName"],[1,"required-indicator"],["formControlName","companyName","id","companyName",1,"form-control"],["class","text-danger",4,"ngIf"],["for","phoneNo"],["formControlName","phoneNo","id","phoneNo",1,"form-control"],["for","address"],["formControlName","address","id","address",1,"form-control"],["formControlName","name","id","name",1,"form-control"],[1,"d-flex","flex-row-reverse","bd-highlight",2,"padding-top","20px"],[3,"mouseenter"],["type","submit","type","submit",1,"btn","btn-warning","mx-1",3,"ngClass"],[1,"text-danger"]],template:function(e,t){1&e&&(i.Qb(0,"div",0),i.Qb(1,"form",1),i.bc("ngSubmit",function(){return t.submit()}),i.Qb(2,"div",2),i.Qb(3,"div",3),i.Qb(4,"label",4),i.Lc(5,"Company Name "),i.Qb(6,"span",5),i.Lc(7,"*"),i.Pb(),i.Pb(),i.Mb(8,"input",6),i.Jc(9,A,2,0,"small",7),i.Pb(),i.Qb(10,"div",3),i.Qb(11,"label",8),i.Lc(12,"Company Phone No "),i.Qb(13,"span",5),i.Lc(14,"*"),i.Pb(),i.Pb(),i.Mb(15,"input",9),i.Jc(16,x,2,0,"small",7),i.Pb(),i.Pb(),i.Qb(17,"div",2),i.Qb(18,"div",3),i.Qb(19,"label",10),i.Lc(20,"Company Address "),i.Qb(21,"span",5),i.Lc(22,"*"),i.Pb(),i.Pb(),i.Mb(23,"input",11),i.Jc(24,E,2,0,"small",7),i.Pb(),i.Qb(25,"div",3),i.Qb(26,"label",8),i.Lc(27,"ID Name "),i.Qb(28,"span",5),i.Lc(29,"*"),i.Pb(),i.Pb(),i.Mb(30,"input",12),i.Jc(31,J,2,0,"small",7),i.Pb(),i.Pb(),i.Qb(32,"div",13),i.Qb(33,"span",14),i.bc("mouseenter",function(){return t.mouseoverShifting=!0}),i.Qb(34,"button",15),i.Lc(35," Update "),i.Pb(),i.Pb(),i.Jc(36,M,2,1,"span",7),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.zb(1),i.mc("formGroup",t.form),i.zb(8),i.mc("ngIf",(null==t.form.controls.companyName.errors?null:t.form.controls.companyName.errors.required)&&t.form.controls.companyName.dirty),i.zb(7),i.mc("ngIf",(null==t.form.controls.phoneNo.errors?null:t.form.controls.phoneNo.errors.required)&&t.form.controls.phoneNo.dirty),i.zb(8),i.mc("ngIf",(null==t.form.controls.address.errors?null:t.form.controls.address.errors.required)&&t.form.controls.address.dirty),i.zb(7),i.mc("ngIf",(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required)&&t.form.controls.name.dirty),i.zb(3),i.mc("ngClass",i.sc(7,G,t.form.invalid,t.edit,!t.edit)),i.zb(2),i.mc("ngIf",t.mouseoverShifting))},directives:[b.y,b.o,b.h,b.b,b.n,b.g,n.p,n.n],styles:[""]}),e}(),V=[{path:"add",component:q},{path:"update-info",component:function(){function e(e,t,r){this.agentService=e,this.activeRoute=t,this.toastrService=r,this.id=t.snapshot.params.id}return e.prototype.ngOnInit=function(){},e.prototype.onCreate=function(e){var t=this;return this.agentService.updateInfo(e).subscribe(function(e){e.statusCode<400?t.toastrService.success(e.message,"Success"):t.toastrService.error(e.message,"Error")})},e.\u0275fac=function(t){return new(t||e)(i.Lb(o.a),i.Lb(s.a),i.Lb(c.b))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-add-info"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[3,"agent","create"]],template:function(e,t){1&e&&(i.Qb(0,"div",0),i.Qb(1,"span",1),i.Lc(2,"Update Company Info"),i.Pb(),i.Pb(),i.Qb(3,"div",0),i.Qb(4,"app-update-info-form",2),i.bc("create",function(e){return t.onCreate(e)}),i.Pb(),i.Pb()),2&e&&(i.zb(4),i.mc("agent",t.agent))},directives:[k],styles:[""]}),e}()}],j=function(){function e(){}return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},imports:[[n.c,b.u,s.d.forChild(V),S.a,y.b]]}),e}()}}]);