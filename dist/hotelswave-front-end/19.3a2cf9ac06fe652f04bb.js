(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{Li91:function(e,t,r){"use strict";r.r(t),r.d(t,"ROUTES",function(){return G}),r.d(t,"BusModule",function(){return j});var o=r("SVse"),i=r("KZX/"),n=r("jgEc"),b=r("IheW"),c=r("8Y7J"),l=r("iInd"),s=function(){function e(e,t){this.dataSource=e,this.router=t,this.serviceUrl="api/v1/buses"}return e.prototype.getAllShip=function(e){void 0===e&&(e=0);var t=(new b.d).set("page",e.toString());return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceUrl,t)},e.prototype.getAdminBus=function(e){return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceUrl+"/"+e,null)},e.prototype.saveAdminBus=function(e){return this.dataSource.sendAuthenticatePostRequestObserver(this.serviceUrl+"/create",null,e)},e.prototype.updateAdminBus=function(e,t){return this.dataSource.sendAuthenticatePutRequestObserver(this.serviceUrl+"/"+e,null,t)},e.\u0275fac=function(t){return new(t||e)(c.Yb(n.a),c.Yb(l.b))},e.\u0275prov=c.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),u=r("U9NQ"),a=r("EApP"),d=r("s7LF"),m=r("lRtw"),p=r("G0yt");function f(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Bus name required "),c.Pb())}function h(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Couch Number Required "),c.Pb())}function P(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Bus quality required "),c.Pb())}function v(e,t){if(1&e&&(c.Qb(0,"option",75),c.Lc(1),c.Pb()),2&e){var r=t.$implicit;c.mc("value",r.key),c.zb(1),c.Nc(" ",r.value," ")}}function Q(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Starting Counter required "),c.Pb())}function g(e,t){if(1&e&&(c.Qb(0,"option",75),c.Lc(1),c.Pb()),2&e){var r=t.$implicit;c.mc("value",r.key),c.zb(1),c.Nc(" ",r.value," ")}}function L(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Ending Counter required "),c.Pb())}function y(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Start Time required "),c.Pb())}function k(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Dropping Time required "),c.Pb())}function N(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Route Number "),c.Pb())}function S(e,t){if(1&e&&(c.Qb(0,"small",74),c.Qb(1,"div",76),c.Lc(2," Phone number required "),c.Pb(),c.Qb(3,"div",76),c.Lc(4," Phone number format 01934953023 "),c.Pb(),c.Pb()),2&e){var r=c.ec();c.zb(1),c.mc("hidden",!r.form.controls.phoneNumber.errors.required),c.zb(2),c.mc("hidden",!r.form.controls.phoneNumber.errors.pattern)}}function w(e,t){if(1&e&&(c.Qb(0,"small",74),c.Qb(1,"div",76),c.Lc(2," Phone number required "),c.Pb(),c.Qb(3,"div",76),c.Lc(4," Phone number format 01934953023 "),c.Pb(),c.Pb()),2&e){var r=c.ec();c.zb(1),c.mc("hidden",!r.form.controls.altPhoneNumber.errors.required),c.zb(2),c.mc("hidden",!r.form.controls.altPhoneNumber.errors.pattern)}}function z(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Floor required "),c.Pb())}function A(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Size required "),c.Pb())}function q(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Seat Pattern required "),c.Pb())}function M(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Last Seat Pattern required "),c.Pb())}function C(e,t){1&e&&(c.Qb(0,"small",74),c.Lc(1," Priority Percent required "),c.Pb())}function x(e,t){if(1&e&&(c.Qb(0,"span",74),c.Lc(1),c.Pb()),2&e){var r=c.ec();c.zb(1),c.Nc(" ",r.getFormValidationErrors()," ")}}var O=function(e,t,r){return{disabled:e,"btn-warning":t,"btn-success":r}},T=function(){function e(e,t){this.builder=e,this.shipService=t,this.create=new c.n,this.update=new c.n,this.startingPoints=m.b,this.droppingPoints=m.b,this.exists=!1,this.mouseoverShifting=!1,this.meridian=!0,this.createForm()}return e.prototype.ngOnChanges=function(){null!=this.bus&&null!=this.bus.id&&(this.exists=!0,this.form.patchValue(this.bus))},e.prototype.createForm=function(){this.form=this.builder.group({name:["",d.w.required],couchNumber:["",d.w.required],quality:["",d.w.required],phoneNumber:["",[d.w.required,d.w.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],altPhoneNumber:["",[d.w.required,d.w.pattern("^01[3-9][ ]?[0-9]{2}[ ]?[0-9]{3}[ ]?[0-9]{3}$")]],floor:["",d.w.required],size:["",d.w.required],startingPoint:["",d.w.required],droppingPoint:["",d.w.required],startTime:["",d.w.required],endTime:["",d.w.required],route:["",d.w.required],busCapacity:["",d.w.required],lastSeatPlan:["",d.w.required],description:["",d.w.required],email:[""],officeAddress:[""],ac:!1,nonac:!1,online:!1,priority:[0,d.w.required],busFacilities:this.builder.group({cinema:!1,restaurant:!1,wifi:!1,locker:!1,petAllowed:!1,welcomeDrinks:!1})})},e.prototype.submit=function(){this.form.valid&&(this.form.controls.startTime.setValue(this.shipService.timeToString(this.form.controls.startTime.value)),this.form.controls.endTime.setValue(this.shipService.timeToString(this.form.controls.endTime.value)),this.exists?this.update.emit(this.form.value):this.create.emit(this.form.value),this.form.reset())},e.prototype.getFormValidationErrors=function(){var e="",t=this.form.get("busFacilities");return(e+=this.getFormGroupValidationErrors(this.form))+this.getFormGroupValidationErrors(t)},e.prototype.getFormGroupValidationErrors=function(e){var t="";return Object.keys(e.controls).forEach(function(r){var o=e.get(r).errors;null!=o&&Object.keys(o).forEach(function(e){t+=r+" : "+e+"; "})}),t},e.\u0275fac=function(t){return new(t||e)(c.Lb(d.d),c.Lb(u.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-add-bus-form"]],inputs:{bus:"bus"},outputs:{create:"create",update:"update"},features:[c.xb],decls:176,vars:31,consts:[["enctype","multipart/form-data",3,"formGroup","ngSubmit","mouseleave"],[1,"form-row"],[1,"col-sm-6"],["for","name"],["id","name","placeholder","Bus name","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-sm-3"],["for","couchNumber"],["id","couchNumber","placeholder","Couch Number","formControlName","couchNumber",1,"form-control"],["for","quality"],["id","quality","formControlName","quality",1,"form-control"],["value",""],["value","BUSINESS"],["value","ECONOMY"],["for","startingPoint",2,"margin-top","20px"],["id","startingPoint","formControlName","startingPoint",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","droppingPoint",2,"margin-top","20px"],["id","droppingPoint","formControlName","droppingPoint",1,"form-control"],["for","startTime",2,"margin-top","20px"],["id","startTime","formControlName","startTime",3,"meridian"],["for","endTime",2,"margin-top","20px"],["id","endTime","formControlName","endTime",3,"meridian"],["for","route",2,"margin-top","20px"],["id","route","placeholder","Ship Route","formControlName","route",1,"form-control"],["for","phoneNumber",2,"margin-top","20px"],["id","officeAddress","placeholder","Office Address","formControlName","officeAddress",1,"form-control"],[1,"col-sm-4"],["id","phoneNumber","maxlength","11","placeholder","Phone Number","formControlName","phoneNumber",1,"form-control"],["for","altPhoneNumber",2,"margin-top","20px"],["id","altPhoneNumber","maxlength","11","placeholder","Alternate Phone Number","formControlName","altPhoneNumber",1,"form-control"],["id","email","placeholder","Email","formControlName","email",1,"form-control"],["for","floor",2,"margin-top","20px"],["type","number","min","1","id","floor","placeholder","Floor","formControlName","floor",1,"form-control"],["for","size",2,"margin-top","20px"],["id","size","placeholder","Size","formControlName","size",1,"form-control"],["for","busCapacity",2,"margin-top","20px"],["id","busCapacity","formControlName","busCapacity",1,"form-control"],["value","3"],["value","4"],["for","lastSeatPlan",2,"margin-top","20px"],["id","lastSeatPlan","formControlName","lastSeatPlan",1,"form-control"],["for","priority",2,"margin-top","20px"],["id","priority","placeholder","Priority","formControlName","priority",1,"form-control"],[1,"form-group"],["for","description",2,"margin-top","20px"],["id","description","formControlName","description","placeholder","Description","rows","3",1,"form-control"],[1,"form-row","align-items-center"],[1,"col-md-3"],[1,"form-check","mb-2"],["type","checkbox","id","ac","formControlName","ac",1,"form-check-input"],["for","ac",1,"form-check-label"],["type","checkbox","id","nonac","formControlName","nonac",1,"form-check-input"],["for","nonac",1,"form-check-label"],["type","checkbox","id","online","formControlName","online",1,"form-check-input"],["for","online",1,"form-check-label"],["formGroupName","busFacilities",1,"border","p-2","my-3"],[1,"text-center"],[1,"col-6","col-md-2"],["type","checkbox","id","cinema","formControlName","cinema",1,"form-check-input"],["for","cinema",1,"form-check-label"],["type","checkbox","id","restaurant","formControlName","restaurant",1,"form-check-input"],["for","restaurant",1,"form-check-label"],["type","checkbox","id","wifi","formControlName","wifi",1,"form-check-input"],["for","wifi",1,"form-check-label"],["type","checkbox","id","locker","formControlName","locker",1,"form-check-input"],["for","locker",1,"form-check-label"],["type","checkbox","id","petAllowed","formControlName","petAllowed",1,"form-check-input"],["for","petAllowed",1,"form-check-label"],["type","checkbox","id","welcomeDrinks","formControlName","welcomeDrinks",1,"form-check-input"],["for","welcomeDrinks",1,"form-check-label"],[1,"d-flex","flex-row-reverse","bd-highlight","my-2","mb-5"],[3,"mouseenter"],["type","submit",1,"btn","btn-warning","mx-1",3,"ngClass"],[1,"text-danger"],[3,"value"],[3,"hidden"]],template:function(e,t){1&e&&(c.Qb(0,"form",0),c.bc("ngSubmit",function(){return t.submit()})("mouseleave",function(){return t.mouseoverShifting=!1}),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"label",3),c.Lc(4,"Bus Name *"),c.Pb(),c.Mb(5,"input",4),c.Jc(6,f,2,0,"small",5),c.Pb(),c.Qb(7,"div",6),c.Qb(8,"label",7),c.Lc(9,"Couch Number *"),c.Pb(),c.Mb(10,"input",8),c.Jc(11,h,2,0,"small",5),c.Pb(),c.Qb(12,"div",6),c.Qb(13,"label",9),c.Lc(14,"Bus quality *"),c.Pb(),c.Qb(15,"select",10),c.Qb(16,"option",11),c.Lc(17," --Select One--"),c.Pb(),c.Qb(18,"option",12),c.Lc(19," Business Class"),c.Pb(),c.Qb(20,"option",13),c.Lc(21," Economy Class"),c.Pb(),c.Pb(),c.Jc(22,P,2,0,"small",5),c.Pb(),c.Pb(),c.Qb(23,"div",1),c.Qb(24,"div",2),c.Qb(25,"label",14),c.Lc(26,"Starting Counter *"),c.Pb(),c.Qb(27,"select",15),c.Qb(28,"option",11),c.Lc(29,"--Select One--"),c.Pb(),c.Jc(30,v,2,2,"option",16),c.fc(31,"keyvalue"),c.Pb(),c.Jc(32,Q,2,0,"small",5),c.Pb(),c.Qb(33,"div",2),c.Qb(34,"label",17),c.Lc(35,"Ending Counter *"),c.Pb(),c.Qb(36,"select",18),c.Qb(37,"option",11),c.Lc(38,"--Select One--"),c.Pb(),c.Jc(39,g,2,2,"option",16),c.fc(40,"keyvalue"),c.Pb(),c.Jc(41,L,2,0,"small",5),c.Pb(),c.Pb(),c.Qb(42,"div",1),c.Qb(43,"div",2),c.Qb(44,"label",19),c.Lc(45,"Start Time *"),c.Pb(),c.Mb(46,"ngb-timepicker",20),c.Jc(47,y,2,0,"small",5),c.Pb(),c.Qb(48,"div",2),c.Qb(49,"label",21),c.Lc(50,"Dropping Time *"),c.Pb(),c.Mb(51,"ngb-timepicker",22),c.Jc(52,k,2,0,"small",5),c.Pb(),c.Pb(),c.Qb(53,"div",1),c.Qb(54,"div",2),c.Qb(55,"label",23),c.Lc(56,"Route *"),c.Pb(),c.Mb(57,"input",24),c.Jc(58,N,2,0,"small",5),c.Pb(),c.Qb(59,"div",2),c.Qb(60,"label",25),c.Lc(61,"Office Address"),c.Pb(),c.Mb(62,"input",26),c.Pb(),c.Pb(),c.Qb(63,"div",1),c.Qb(64,"div",27),c.Qb(65,"label",25),c.Lc(66,"Phone number *"),c.Pb(),c.Mb(67,"input",28),c.Jc(68,S,5,2,"small",5),c.Pb(),c.Qb(69,"div",27),c.Qb(70,"label",29),c.Lc(71,"Alternate Phone number *"),c.Pb(),c.Mb(72,"input",30),c.Jc(73,w,5,2,"small",5),c.Pb(),c.Qb(74,"div",27),c.Qb(75,"label",25),c.Lc(76,"Email"),c.Pb(),c.Mb(77,"input",31),c.Pb(),c.Pb(),c.Qb(78,"div",1),c.Qb(79,"div",6),c.Qb(80,"label",32),c.Lc(81,"Number of floor *"),c.Pb(),c.Mb(82,"input",33),c.Jc(83,z,2,0,"small",5),c.Pb(),c.Qb(84,"div",6),c.Qb(85,"label",34),c.Lc(86,"Total No. of Seat *"),c.Pb(),c.Mb(87,"input",35),c.Jc(88,A,2,0,"small",5),c.Pb(),c.Qb(89,"div",6),c.Qb(90,"label",36),c.Lc(91,"Seat Pattern *"),c.Pb(),c.Qb(92,"select",37),c.Qb(93,"option",11),c.Lc(94,"--Select One--"),c.Pb(),c.Qb(95,"option",38),c.Lc(96,"1:2"),c.Pb(),c.Qb(97,"option",39),c.Lc(98,"2:2"),c.Pb(),c.Pb(),c.Jc(99,q,2,0,"small",5),c.Pb(),c.Qb(100,"div",6),c.Qb(101,"label",40),c.Lc(102,"Last Seat Pattern *"),c.Pb(),c.Qb(103,"select",41),c.Qb(104,"option",11),c.Lc(105,"--Select One--"),c.Pb(),c.Qb(106,"option",38),c.Lc(107,"1:2"),c.Pb(),c.Qb(108,"option",39),c.Lc(109,"2:2"),c.Pb(),c.Pb(),c.Jc(110,M,2,0,"small",5),c.Pb(),c.Qb(111,"div",6),c.Qb(112,"label",42),c.Lc(113,"Priority *"),c.Pb(),c.Mb(114,"input",43),c.Jc(115,C,2,0,"small",5),c.Pb(),c.Pb(),c.Qb(116,"div",44),c.Qb(117,"label",45),c.Lc(118,"Description "),c.Pb(),c.Qb(119,"textarea",46),c.Lc(120,"    "),c.Pb(),c.Pb(),c.Qb(121,"div",47),c.Qb(122,"div",48),c.Qb(123,"div",49),c.Mb(124,"input",50),c.Qb(125,"label",51),c.Lc(126," AC "),c.Pb(),c.Pb(),c.Pb(),c.Qb(127,"div",48),c.Qb(128,"div",49),c.Mb(129,"input",52),c.Qb(130,"label",53),c.Lc(131," Non-AC "),c.Pb(),c.Pb(),c.Pb(),c.Qb(132,"div",48),c.Qb(133,"div",49),c.Mb(134,"input",54),c.Qb(135,"label",55),c.Lc(136,"Online "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(137,"div",56),c.Qb(138,"h3",57),c.Lc(139,"Facilities"),c.Pb(),c.Qb(140,"div",47),c.Qb(141,"div",58),c.Qb(142,"div",49),c.Mb(143,"input",59),c.Qb(144,"label",60),c.Lc(145," Cinema "),c.Pb(),c.Pb(),c.Pb(),c.Qb(146,"div",58),c.Qb(147,"div",49),c.Mb(148,"input",61),c.Qb(149,"label",62),c.Lc(150," Restaurant "),c.Pb(),c.Pb(),c.Pb(),c.Qb(151,"div",58),c.Qb(152,"div",49),c.Mb(153,"input",63),c.Qb(154,"label",64),c.Lc(155," WIFI "),c.Pb(),c.Pb(),c.Pb(),c.Qb(156,"div",58),c.Qb(157,"div",49),c.Mb(158,"input",65),c.Qb(159,"label",66),c.Lc(160," Locker "),c.Pb(),c.Pb(),c.Pb(),c.Qb(161,"div",58),c.Qb(162,"div",49),c.Mb(163,"input",67),c.Qb(164,"label",68),c.Lc(165," Pet Allowed "),c.Pb(),c.Pb(),c.Pb(),c.Qb(166,"div",58),c.Qb(167,"div",49),c.Mb(168,"input",69),c.Qb(169,"label",70),c.Lc(170," Welcome Drinks "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(171,"div",71),c.Qb(172,"span",72),c.bc("mouseenter",function(){return t.mouseoverShifting=!0}),c.Qb(173,"button",73),c.Lc(174),c.Pb(),c.Pb(),c.Jc(175,x,2,1,"span",5),c.Pb(),c.Pb()),2&e&&(c.mc("formGroup",t.form),c.zb(6),c.mc("ngIf",(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required)&&t.form.controls.name.dirty),c.zb(5),c.mc("ngIf",(null==t.form.controls.couchNumber.errors?null:t.form.controls.couchNumber.errors.required)&&t.form.controls.couchNumber.dirty),c.zb(11),c.mc("ngIf",(null==t.form.controls.quality.errors?null:t.form.controls.quality.errors.required)&&t.form.controls.quality.dirty),c.zb(8),c.mc("ngForOf",c.gc(31,23,t.startingPoints)),c.zb(2),c.mc("ngIf",(null==t.form.controls.startingPoint.errors?null:t.form.controls.startingPoint.errors.required)&&t.form.controls.startingPoint.dirty),c.zb(7),c.mc("ngForOf",c.gc(40,25,t.droppingPoints)),c.zb(2),c.mc("ngIf",(null==t.form.controls.droppingPoint.errors?null:t.form.controls.droppingPoint.errors.required)&&t.form.controls.droppingPoint.dirty),c.zb(5),c.mc("meridian",t.meridian),c.zb(1),c.mc("ngIf",(null==t.form.controls.startTime.errors?null:t.form.controls.startTime.errors.required)&&t.form.controls.startTime.dirty),c.zb(4),c.mc("meridian",t.meridian),c.zb(1),c.mc("ngIf",(null==t.form.controls.endTime.errors?null:t.form.controls.endTime.errors.required)&&t.form.controls.endTime.dirty),c.zb(6),c.mc("ngIf",(null==t.form.controls.route.errors?null:t.form.controls.route.errors.required)&&t.form.controls.route.dirty),c.zb(10),c.mc("ngIf",t.form.controls.phoneNumber.errors&&t.form.controls.phoneNumber.touched),c.zb(5),c.mc("ngIf",t.form.controls.phoneNumber.errors&&t.form.controls.phoneNumber.touched),c.zb(10),c.mc("ngIf",(null==t.form.controls.floor.errors?null:t.form.controls.floor.errors.required)&&t.form.controls.floor.dirty),c.zb(5),c.mc("ngIf",(null==t.form.controls.size.errors?null:t.form.controls.size.errors.required)&&t.form.controls.size.dirty),c.zb(11),c.mc("ngIf",(null==t.form.controls.busCapacity.errors?null:t.form.controls.busCapacity.errors.required)&&t.form.controls.busCapacity.dirty),c.zb(11),c.mc("ngIf",(null==t.form.controls.lastSeatPlan.errors?null:t.form.controls.lastSeatPlan.errors.required)&&t.form.controls.lastSeatPlan.dirty),c.zb(5),c.mc("ngIf",(null==t.form.controls.priority.errors?null:t.form.controls.priority.errors.required)&&t.form.controls.priority.dirty),c.zb(58),c.mc("ngClass",c.sc(27,O,t.form.invalid,t.exists,!t.exists)),c.zb(1),c.Nc(" ",t.exists?"Update":"Create"," Bus "),c.zb(1),c.mc("ngIf",t.mouseoverShifting))},directives:[d.y,d.o,d.h,d.b,d.n,d.g,o.p,d.v,d.r,d.x,o.o,p.w,d.k,d.s,d.a,d.i,o.n],pipes:[o.j],styles:[""]}),e}(),I=function(){function e(e,t,r,o,i){this.shipService=e,this.busService=t,this.activeRoute=r,this.toastrService=o,this.router=i,this.id=r.snapshot.params.id}return e.prototype.ngOnInit=function(){this.id&&this.getBus(this.id)},e.prototype.getBus=function(e){return t=this,void 0,o=function(){var t=this;return function(e,t){var r,o,i,n,b={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function c(n){return function(c){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;b;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return b.label++,{value:n[1],done:!1};case 5:b.label++,o=n[1],n=[0];continue;case 7:n=b.ops.pop(),b.trys.pop();continue;default:if(!((i=(i=b.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){b=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){b.label=n[1];break}if(6===n[0]&&b.label<i[1]){b.label=i[1],i=n;break}if(i&&b.label<i[2]){b.label=i[2],b.ops.push(n);break}i[2]&&b.ops.pop(),b.trys.pop();continue}n=t.call(e,b)}catch(c){n=[6,c],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,c])}}}(this,function(r){switch(r.label){case 0:return[4,this.busService.getAdminBus(e).subscribe(function(e){t.responseModel=e,t.bus=e.content,void 0!==t.bus&&null!=t.bus&&(t.bus.startTime=t.shipService.parseTimeObj(t.bus.startTime),t.bus.endTime=t.shipService.parseTimeObj(t.bus.endTime))})];case 1:return r.sent(),[2]}})},new((r=void 0)||(r=Promise))(function(e,i){function n(e){try{c(o.next(e))}catch(t){i(t)}}function b(e){try{c(o.throw(e))}catch(t){i(t)}}function c(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r(function(e){e(o)})).then(n,b)}c((o=o.apply(t,[])).next())});var t,r,o},e.prototype.onCreate=function(e){var t=this;confirm("Do you want to Add ?")&&this.busService.saveAdminBus(e).subscribe(function(e){t.toastrService.success("Bus created successfully","Success"),t.router.navigate(["/dashboard/admin/buses/add"])})},e.prototype.onUpdate=function(e){var t=this;confirm("Do you want to update ?")&&this.busService.updateAdminBus(this.id,e).subscribe(function(e){t.toastrService.success("Bus updated successfully","Success"),t.router.navigate(["/dashboard/admin/buses/add"])})},e.\u0275fac=function(t){return new(t||e)(c.Lb(u.a),c.Lb(s),c.Lb(l.a),c.Lb(a.b),c.Lb(l.b))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-add"]],decls:5,vars:1,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[3,"bus","create","update"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Lc(2,"Add Bus"),c.Pb(),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"app-add-bus-form",3),c.bc("create",function(e){return t.onCreate(e)})("update",function(e){return t.onUpdate(e)}),c.Pb(),c.Pb()),2&e&&(c.zb(4),c.mc("bus",t.bus))},directives:[T],styles:[""]}),e}(),R=r("oTcB"),D=function(){function e(e,t,r){this.busService=e,this.activeRoute=t,this.router=r,this.id=t.snapshot.params.id}return e.prototype.ngOnInit=function(){var e=this;this.busService.getAdminBus(this.id).subscribe(function(t){e.responseModel=t,e.bus=t.content,null!=e.bus&&(e.bus.facilities=e.bus.busFacilities)})},e.prototype.onEdit=function(){this.router.navigate(["/dashboard/admin/buses/add/",this.id])},e.\u0275fac=function(t){return new(t||e)(c.Lb(s),c.Lb(l.a),c.Lb(l.b))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-details"]],decls:159,vars:28,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"form-group"],["for","name"],["id","name",1,"form-control"],[1,"form-row"],[1,"form-group","col-md-4"],["for","busNumber"],["id","busNumber",1,"form-control"],[1,"col"],["for","quality"],["id","quality",1,"form-control"],["for","startingPoint"],["id","startingPoint",1,"form-control"],["for","droppingPoint"],["id","droppingPoint",1,"form-control"],["for","startTime"],["id","startTime",1,"form-control"],["for","dropTime"],["id","dropTime",1,"form-control"],["for","route"],["id","route",1,"form-control"],["for","officeAddress"],["id","officeAddress",1,"form-control"],["for","phoneNumber"],["id","phoneNumber",1,"form-control"],["for","AlternativePhoneNumber"],["id","AlternativePhoneNumber",1,"form-control"],["for","email"],["id","email",1,"form-control"],["for","floor"],["id","floor",1,"form-control"],["for","size"],[1,"form-control"],["for","busCapacity"],["id","busCapacity",1,"form-control"],["for","priority"],["id","priority",1,"form-control"],[1,"form-group","col-md-6"],["id","size",1,"form-control"],["for","description",2,"margin-top","20px"],["disabled","","id","description","placeholder","Description","rows","3",1,"form-control"],[1,"form-row","align-items-center"],[1,"col-md-3"],[1,"form-check","mb-2"],["disabled","","type","checkbox","id","ac",1,"form-check-input",3,"checked"],["for","ac",1,"form-check-label"],["disabled","","type","checkbox","id","nonac",1,"form-check-input",3,"checked"],["for","nonac",1,"form-check-label"],["disabled","",1,"col-md-3"],["disabled","","type","checkbox","id","online",1,"form-check-input",3,"checked"],["for","online",1,"form-check-label"],[1,"border","p-2","my-3"],[1,"text-center"],[1,"col-6","col-md-2"],["disabled","","type","checkbox","id","cinema",1,"form-check-input",3,"checked"],["for","cinema",1,"form-check-label"],["disabled","","type","checkbox","id","restaurant",1,"form-check-input",3,"checked"],["for","restaurant",1,"form-check-label"],["disabled","","type","checkbox","id","wifi",1,"form-check-input",3,"checked"],["for","wifi",1,"form-check-label"],["disabled","","type","checkbox","id","locker",1,"form-check-input",3,"checked"],["for","locker",1,"form-check-label"],["disabled","","type","checkbox","id","petAllowed",1,"form-check-input",3,"checked"],["for","petAllowed",1,"form-check-label"],["disabled","","type","checkbox","id","welcomeDrinks",1,"form-check-input",3,"checked"],["for","welcomeDrinks",1,"form-check-label"],[1,"d-flex","flex-row-reverse","bd-highlight","my-2"],["type","button",1,"btn","btn-warning","btn-sm","mx-1",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Lc(2,"Add Bus"),c.Pb(),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Qb(5,"label",4),c.Lc(6,"Bus Name *"),c.Pb(),c.Qb(7,"label",5),c.Lc(8),c.Pb(),c.Pb(),c.Qb(9,"div",6),c.Qb(10,"div",7),c.Qb(11,"label",8),c.Lc(12,"Couch Number*"),c.Pb(),c.Qb(13,"label",9),c.Lc(14),c.Pb(),c.Pb(),c.Qb(15,"div",10),c.Qb(16,"label",11),c.Lc(17,"bus quality *"),c.Pb(),c.Qb(18,"label",12),c.Lc(19),c.Pb(),c.Pb(),c.Pb(),c.Qb(20,"div",6),c.Qb(21,"div",10),c.Qb(22,"label",13),c.Lc(23,"Starting point *"),c.Pb(),c.Qb(24,"label",14),c.Lc(25),c.Pb(),c.Pb(),c.Qb(26,"div",10),c.Qb(27,"label",15),c.Lc(28,"Droping point *"),c.Pb(),c.Qb(29,"label",16),c.Lc(30),c.Pb(),c.Pb(),c.Pb(),c.Qb(31,"div",6),c.Qb(32,"div",10),c.Qb(33,"label",17),c.Lc(34,"Starting Time *"),c.Pb(),c.Qb(35,"label",18),c.Lc(36),c.Pb(),c.Pb(),c.Qb(37,"div",10),c.Qb(38,"label",19),c.Lc(39,"Dropping Time *"),c.Pb(),c.Qb(40,"label",20),c.Lc(41),c.Pb(),c.Pb(),c.Pb(),c.Qb(42,"div",6),c.Qb(43,"div",10),c.Qb(44,"label",21),c.Lc(45,"Route *"),c.Pb(),c.Qb(46,"label",22),c.Lc(47),c.Pb(),c.Pb(),c.Qb(48,"div",10),c.Qb(49,"label",23),c.Lc(50,"Office Address"),c.Pb(),c.Qb(51,"label",24),c.Lc(52),c.Pb(),c.Pb(),c.Pb(),c.Qb(53,"div",6),c.Qb(54,"div",10),c.Qb(55,"label",25),c.Lc(56,"Phone Number *"),c.Pb(),c.Qb(57,"label",26),c.Lc(58),c.Pb(),c.Pb(),c.Qb(59,"div",10),c.Qb(60,"label",27),c.Lc(61,"Alternative Phone Number"),c.Pb(),c.Qb(62,"label",28),c.Lc(63),c.Pb(),c.Pb(),c.Qb(64,"div",10),c.Qb(65,"label",29),c.Lc(66,"Email"),c.Pb(),c.Qb(67,"label",30),c.Lc(68),c.Pb(),c.Pb(),c.Pb(),c.Qb(69,"div",6),c.Qb(70,"div",10),c.Qb(71,"label",31),c.Lc(72,"Number of Floor *"),c.Pb(),c.Qb(73,"label",32),c.Lc(74),c.Pb(),c.Pb(),c.Qb(75,"div",10),c.Qb(76,"label",33),c.Lc(77,"Size*"),c.Pb(),c.Qb(78,"label",34),c.Lc(79),c.Pb(),c.Pb(),c.Qb(80,"div",10),c.Qb(81,"label",35),c.Lc(82,"Bus Capacity"),c.Pb(),c.Qb(83,"label",36),c.Lc(84),c.Pb(),c.Pb(),c.Qb(85,"div",10),c.Qb(86,"label",37),c.Lc(87,"Priority *"),c.Pb(),c.Qb(88,"label",38),c.Lc(89),c.Pb(),c.Pb(),c.Pb(),c.Qb(90,"div",6),c.Qb(91,"div",39),c.Qb(92,"label",31),c.Lc(93,"floor *"),c.Pb(),c.Qb(94,"label",34),c.Lc(95),c.Pb(),c.Pb(),c.Qb(96,"div",39),c.Qb(97,"label",33),c.Lc(98,"Size *"),c.Pb(),c.Qb(99,"label",40),c.Lc(100),c.Pb(),c.Pb(),c.Pb(),c.Qb(101,"div",3),c.Qb(102,"label",41),c.Lc(103,"Description *"),c.Pb(),c.Qb(104,"textarea",42),c.Lc(105),c.Pb(),c.Pb(),c.Qb(106,"div",43),c.Qb(107,"div",44),c.Qb(108,"div",45),c.Mb(109,"input",46),c.Qb(110,"label",47),c.Lc(111," AC "),c.Pb(),c.Pb(),c.Pb(),c.Qb(112,"div",44),c.Qb(113,"div",45),c.Mb(114,"input",48),c.Qb(115,"label",49),c.Lc(116," Non-AC "),c.Pb(),c.Pb(),c.Pb(),c.Qb(117,"div",50),c.Qb(118,"div",45),c.Mb(119,"input",51),c.Qb(120,"label",52),c.Lc(121,"Online "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(122,"div",6),c.Qb(123,"div",53),c.Qb(124,"h3",54),c.Lc(125,"Facilities"),c.Pb(),c.Qb(126,"div",55),c.Qb(127,"div",45),c.Mb(128,"input",56),c.Qb(129,"label",57),c.Lc(130," Cinema "),c.Pb(),c.Pb(),c.Pb(),c.Qb(131,"div",55),c.Qb(132,"div",45),c.Mb(133,"input",58),c.Qb(134,"label",59),c.Lc(135," Restaurant "),c.Pb(),c.Pb(),c.Pb(),c.Qb(136,"div",55),c.Qb(137,"div",45),c.Mb(138,"input",60),c.Qb(139,"label",61),c.Lc(140," WIFI "),c.Pb(),c.Pb(),c.Pb(),c.Qb(141,"div",55),c.Qb(142,"div",45),c.Mb(143,"input",62),c.Qb(144,"label",63),c.Lc(145," Locker "),c.Pb(),c.Pb(),c.Pb(),c.Qb(146,"div",55),c.Qb(147,"div",45),c.Mb(148,"input",64),c.Qb(149,"label",65),c.Lc(150," Pet Allowed "),c.Pb(),c.Pb(),c.Pb(),c.Qb(151,"div",55),c.Qb(152,"div",45),c.Mb(153,"input",66),c.Qb(154,"label",67),c.Lc(155," Welcome Drinks "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(156,"div",68),c.Qb(157,"button",69),c.bc("click",function(){return t.onEdit()}),c.Lc(158," Edit "),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.zb(8),c.Mc(null==t.bus?null:t.bus.name),c.zb(6),c.Mc(null==t.bus?null:t.bus.couchNumber),c.zb(5),c.Mc(null==t.bus?null:t.bus.quality),c.zb(6),c.Mc(null==t.bus?null:t.bus.startingPoint),c.zb(5),c.Mc(null==t.bus?null:t.bus.droppingPoint),c.zb(6),c.Mc(null==t.bus?null:t.bus.startTime),c.zb(5),c.Mc(null==t.bus?null:t.bus.endTime),c.zb(6),c.Mc(null==t.bus?null:t.bus.route),c.zb(5),c.Mc(null==t.bus?null:t.bus.officeAddress),c.zb(6),c.Mc(null==t.bus?null:t.bus.phoneNumber),c.zb(5),c.Mc(null==t.bus?null:t.bus.altPhoneNumber),c.zb(5),c.Mc(null==t.bus?null:t.bus.email),c.zb(6),c.Mc(null==t.bus?null:t.bus.floor),c.zb(5),c.Mc(null==t.bus?null:t.bus.size),c.zb(5),c.Mc(null==t.bus?null:t.bus.busCapacity),c.zb(5),c.Mc(null==t.bus?null:t.bus.priority),c.zb(6),c.Mc(null==t.bus?null:t.bus.floor),c.zb(5),c.Mc(null==t.bus?null:t.bus.size),c.zb(5),c.Nc("      ",null==t.bus?null:t.bus.description,"\n    "),c.zb(4),c.mc("checked",null==t.bus?null:t.bus.ac),c.zb(5),c.mc("checked",null==t.bus?null:t.bus.nonac),c.zb(5),c.mc("checked",null==t.bus?null:t.bus.online),c.zb(9),c.mc("checked",null==t.bus||null==t.bus.facilities?null:t.bus.facilities.cinema),c.zb(5),c.mc("checked",null==t.bus||null==t.bus.facilities?null:t.bus.facilities.restaurant),c.zb(5),c.mc("checked",null==t.bus||null==t.bus.facilities?null:t.bus.facilities.wifi),c.zb(5),c.mc("checked",null==t.bus||null==t.bus.facilities?null:t.bus.facilities.locker),c.zb(5),c.mc("checked",null==t.bus||null==t.bus.facilities?null:t.bus.facilities.petAllowed),c.zb(5),c.mc("checked",null==t.bus||null==t.bus.facilities?null:t.bus.facilities.welcomeDrinks))},styles:[""]}),e}(),F=r("XNiG");function U(e,t){if(1&e){var r=c.Rb();c.Qb(0,"tr"),c.Qb(1,"td"),c.Lc(2),c.Pb(),c.Qb(3,"td"),c.Lc(4),c.Pb(),c.Qb(5,"td"),c.Lc(6),c.Pb(),c.Qb(7,"td"),c.Lc(8),c.Pb(),c.Qb(9,"td"),c.Lc(10),c.Pb(),c.Qb(11,"td"),c.Lc(12),c.Pb(),c.Qb(13,"td"),c.Qb(14,"button",5),c.bc("click",function(){c.Ac(r);var e=t.$implicit;return c.ec().onDetails(e.id)}),c.Lc(15," Details "),c.Pb(),c.Pb(),c.Pb()}if(2&e){var o=t.$implicit;c.zb(2),c.Mc(o.couchNumber),c.zb(2),c.Mc(o.name),c.zb(2),c.Mc(o.phoneNumber),c.zb(2),c.Mc(o.enabled),c.zb(2),c.Oc("",o.startingPoint," - ",o.droppingPoint,""),c.zb(2),c.Mc(o.priority)}}var B=function(){function e(e,t){this.router=e,this.restDataService=t,this.dtOptions={},this.dtTrigger=new F.a}return e.prototype.ngOnInit=function(){this.dtOptions={pagingType:"full_numbers"},this.getList()},e.prototype.getList=function(){var e=this;this.restDataService.sendAuthenticateGetRequestObserver("api/v1/buses/list","").subscribe(function(t){e.responseModel=t,e.busList=e.responseModel.content,e.dtTrigger.next()})},e.prototype.onDetails=function(e){this.router.navigate(["/dashboard/admin/buses",e])},e.\u0275fac=function(t){return new(t||e)(c.Lb(l.b),c.Lb(n.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-list"]],decls:23,vars:3,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],["datatable","",1,"table","table-hover","table-responsive-sm","border",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-success","mr-1",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"span",1),c.Lc(2,"Bus list"),c.Pb(),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"table",3),c.Qb(5,"thead"),c.Qb(6,"tr"),c.Qb(7,"th"),c.Lc(8,"Couch No."),c.Pb(),c.Qb(9,"th"),c.Lc(10,"Name"),c.Pb(),c.Qb(11,"th"),c.Lc(12,"Phone"),c.Pb(),c.Qb(13,"th"),c.Lc(14,"Enabled"),c.Pb(),c.Qb(15,"th"),c.Lc(16,"Route"),c.Pb(),c.Qb(17,"th"),c.Lc(18,"Priority"),c.Pb(),c.Qb(19,"th"),c.Lc(20,"Actions"),c.Pb(),c.Pb(),c.Pb(),c.Qb(21,"tbody"),c.Jc(22,U,16,7,"tr",4),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.zb(4),c.mc("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),c.zb(18),c.mc("ngForOf",t.busList))},directives:[R.a,o.o],styles:[""]}),e}();function J(e,t){1&e&&c.Mb(0,"app-add")}function E(e,t){1&e&&(c.Ob(0),c.Mb(1,"app-list"),c.Nb())}var G=[{path:"add",component:function(){function e(){this.activeNav=1}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Fb({type:e,selectors:[["app-list-add"]],decls:12,vars:4,consts:[[1,"container"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"]],template:function(e,t){if(1&e&&(c.Qb(0,"div",0),c.Qb(1,"ul",1,2),c.bc("activeIdChange",function(e){return t.activeNav=e}),c.Qb(3,"li",3),c.Qb(4,"a",4),c.Lc(5,"Create"),c.Pb(),c.Jc(6,J,1,0,"ng-template",5),c.Pb(),c.Qb(7,"li",3),c.Qb(8,"a",4),c.Lc(9,"List"),c.Pb(),c.Jc(10,E,2,0,"ng-template",5),c.Pb(),c.Pb(),c.Mb(11,"div",6),c.Pb()),2&e){var r=c.xc(2);c.zb(1),c.mc("activeId",t.activeNav),c.zb(2),c.mc("ngbNavItem",1),c.zb(4),c.mc("ngbNavItem",2),c.zb(4),c.mc("ngbNavOutlet",r)}},directives:[p.n,p.p,p.q,p.o,p.s,I,B],styles:[""]}),e}()},{path:"add/:id",component:I},{path:":id",component:D}],j=function(){function e(){}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[o.c,i.a,l.d.forChild(G),R.b]]}),e}()},U9NQ:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var o=r("jgEc"),i=r("IheW"),n=r("8Y7J"),b=r("iInd"),c=function(){function e(e,t){this.dataSource=e,this.router=t,this.serviceUrl="api/v1/ships",this.serviceAdminUrl="api/v1/admin/ships",this.launchCreationUrl="api/v1/launchPoint/create",this.previousLaunchPointList="api/v1/launchPoint/getAll",this.updateLaunchPointUrl="api/v1/launchPoint/update",this.deleteLaunchPointUrl="api/v1/launchPoint/delete"}return e.prototype.getAllShip=function(e){void 0===e&&(e=0);var t=(new i.d).set("page",e.toString());return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceUrl,t)},e.prototype.getOwnShipPage=function(e){void 0===e&&(e=0);var t=(new i.d).set("page",e.toString());return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceAdminUrl+"/own",t)},e.prototype.getAdminShipPage=function(e){void 0===e&&(e=0);var t=(new i.d).set("page",e.toString());return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceAdminUrl,t)},e.prototype.getAdminShip=function(e){return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceAdminUrl+"/"+e,null)},e.prototype.saveAdminShip=function(e){return this.dataSource.sendAuthenticatePostRequestObserver(this.serviceAdminUrl,null,e)},e.prototype.saveLaunchPoint=function(e){return this.dataSource.sendAuthenticatePostRequestObserver(this.launchCreationUrl,e,null)},e.prototype.updateLaunchPoint=function(e,t){return this.dataSource.sendAuthenticatePutRequestObserver(this.updateLaunchPointUrl+"/"+t,e,null)},e.prototype.deleteLaunchPoint=function(e){return this.dataSource.sendAuthenticateDeleteRequestObserver(this.deleteLaunchPointUrl+"/"+e,null)},e.prototype.getPreviousLaunchPointList=function(){return this.dataSource.sendAuthenticateGetRequestObserver(this.previousLaunchPointList,null)},e.prototype.saveDocument=function(e,t,r){return this.dataSource.sendAuthenticatePostRequestObserver("api/v1/documents/create?entityId="+e+"&entityName="+t,null,r)},e.prototype.getShipImageUrls=function(e){return this.dataSource.sendAuthenticateGetRequestObserver("api/v1/documents/all/Ship/"+e,null)},e.prototype.deleteDocument=function(e){return this.dataSource.sendAuthenticateDeleteRequestObserver(this.serviceUrl+"/"+e+"/images",null)},e.prototype.updateAdminShip=function(e,t){return this.dataSource.sendAuthenticatePutRequestObserver(this.serviceAdminUrl+"/"+e,null,t)},e.prototype.getAdminShipMap=function(e,t,r){var o=(new i.d).set("startDate",t).set("endDate",r);return this.dataSource.sendAuthenticateGetRequestObserver(this.serviceAdminUrl+"/shipMap/"+e+"?"+o,null)},e.prototype.updateAdminShipMap=function(e,t,r){var o=(new i.d).set("date",t).set("value",r?"true":"false");return this.dataSource.sendAuthenticatePutRequestObserver(this.serviceAdminUrl+"/updateMap/"+e+"?"+o,null,null)},e.prototype.updateAdminShipMapAll=function(e,t,r,o){var n=(new i.d).set("startDate",t).set("endDate",r).set("value",o?"true":"false");return this.dataSource.sendAuthenticatePutRequestObserver(this.serviceAdminUrl+"/updateMapAll/"+e+"?"+n,null,null)},e.prototype.parseTimeObj=function(e){var t=parseInt(e.toString().split(":")[0].trim()),r=e.toString().split(":")[1];return r.includes("PM")&&(t+=12),{hour:t,minute:parseInt(r.split(" ")[0]),second:0}},e.prototype.timeToString=function(e){var t="AM";return e.hour>12&&(t="PM",e.hour=e.hour-12),(e.hour<10?"0"+e.hour:e.hour)+":"+(e.minute<10?"0"+e.minute:e.minute)+" "+t},e.\u0275fac=function(t){return new(t||e)(n.Yb(o.a),n.Yb(b.b))},e.\u0275prov=n.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);