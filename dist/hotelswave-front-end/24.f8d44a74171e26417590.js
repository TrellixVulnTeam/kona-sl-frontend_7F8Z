(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{HYtE:function(t,n,e){"use strict";e.r(n),e.d(n,"ROUTES",function(){return E}),e.d(n,"FlightModule",function(){return L});var c=e("iInd"),i=e("GtaJ"),b=(e("gw5A"),e("8Y7J")),a=e("SVse"),r=e("HF3I"),s=e("uEz7"),o=function(t,n,e,c){return new(e||(e=Promise))(function(i,b){function a(t){try{s(c.next(t))}catch(n){b(n)}}function r(t){try{s(c.throw(t))}catch(n){b(n)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(a,r)}s((c=c.apply(t,n||[])).next())})},l=function(t,n){var e,c,i,b,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return b={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function r(b){return function(r){return function(b){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,c&&(i=2&b[0]?c.return:b[0]?c.throw||((i=c.return)&&i.call(c),0):c.next)&&!(i=i.call(c,b[1])).done)return i;switch(c=0,i&&(b=[2&b[0],i.value]),b[0]){case 0:case 1:i=b;break;case 4:return a.label++,{value:b[1],done:!1};case 5:a.label++,c=b[1],b=[0];continue;case 7:b=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==b[0]&&2!==b[0])){a=0;continue}if(3===b[0]&&(!i||b[1]>i[0]&&b[1]<i[3])){a.label=b[1];break}if(6===b[0]&&a.label<i[1]){a.label=i[1],i=b;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(b);break}i[2]&&a.ops.pop(),a.trys.pop();continue}b=n.call(t,a)}catch(r){b=[6,r],c=0}finally{e=i=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([b,r])}}};function u(t,n){1&t&&b.Mb(0,"loading")}function g(t,n){if(1&t){var e=b.Rb();b.Qb(0,"button",26),b.bc("click",function(){b.Ac(e);var t=b.ec().$implicit;return b.ec(2).onChangeStatus(t.id,"CONFIRMED")}),b.Lc(1,"CONFIRMED"),b.Pb()}}function f(t,n){if(1&t){var e=b.Rb();b.Qb(0,"button",27),b.bc("click",function(){b.Ac(e);var t=b.ec().$implicit;return b.ec(2).onChangeStatus(t.id,"CONTACTED")}),b.Lc(1,"CONTACTED"),b.Pb()}}function d(t,n){if(1&t){var e=b.Rb();b.Qb(0,"button",28),b.bc("click",function(){b.Ac(e);var t=b.ec().$implicit;return b.ec(2).onChangeStatus(t.id,"CANCELED")}),b.Lc(1,"CANCELED"),b.Pb()}}var P=function(t,n,e,c){return{"bg-info":t,"bg-success":n,"bg-primary":e,"bg-danger":c}};function h(t,n){if(1&t&&(b.Qb(0,"div",14),b.Qb(1,"div",15),b.Lc(2),b.Qb(3,"span",16),b.Lc(4),b.fc(5,"date"),b.Pb(),b.Pb(),b.Qb(6,"div",17),b.Lc(7),b.Pb(),b.Qb(8,"div",18),b.Qb(9,"h3"),b.Lc(10,"Flight Info"),b.Pb(),b.Qb(11,"table",19),b.Qb(12,"tbody"),b.Qb(13,"tr"),b.Qb(14,"td"),b.Lc(15,"Depart from"),b.Pb(),b.Qb(16,"td"),b.Lc(17),b.Pb(),b.Pb(),b.Qb(18,"tr"),b.Qb(19,"td"),b.Lc(20,"Destination to"),b.Pb(),b.Qb(21,"td"),b.Lc(22),b.Pb(),b.Pb(),b.Qb(23,"tr"),b.Qb(24,"td"),b.Lc(25,"Depart Date"),b.Pb(),b.Qb(26,"td"),b.Lc(27),b.fc(28,"date"),b.Pb(),b.Pb(),b.Qb(29,"tr"),b.Qb(30,"td"),b.Lc(31,"Return Date"),b.Pb(),b.Qb(32,"td"),b.Lc(33),b.fc(34,"date"),b.Pb(),b.Pb(),b.Qb(35,"tr"),b.Qb(36,"td"),b.Lc(37,"Flight Class"),b.Pb(),b.Qb(38,"td"),b.Lc(39),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(40,"div",18),b.Qb(41,"h3"),b.Lc(42,"Passenger Info"),b.Pb(),b.Qb(43,"table",20),b.Qb(44,"tbody"),b.Qb(45,"tr"),b.Qb(46,"td"),b.Lc(47,"Number of Adult"),b.Pb(),b.Qb(48,"td"),b.Lc(49),b.Pb(),b.Pb(),b.Qb(50,"tr"),b.Qb(51,"td"),b.Lc(52,"Number of Children"),b.Pb(),b.Qb(53,"td"),b.Lc(54),b.Pb(),b.Pb(),b.Qb(55,"tr"),b.Qb(56,"td"),b.Lc(57,"Name"),b.Pb(),b.Qb(58,"td"),b.Lc(59),b.Pb(),b.Pb(),b.Qb(60,"tr"),b.Qb(61,"td"),b.Lc(62,"Phone Number"),b.Pb(),b.Qb(63,"td",21),b.Qb(64,"strong"),b.Lc(65),b.fc(66,"slice"),b.fc(67,"slice"),b.fc(68,"slice"),b.Pb(),b.Pb(),b.Pb(),b.Qb(69,"tr"),b.Qb(70,"td"),b.Lc(71,"Email"),b.Pb(),b.Qb(72,"td"),b.Lc(73),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(74,"div",22),b.Jc(75,g,2,0,"button",23),b.Jc(76,f,2,0,"button",24),b.Jc(77,d,2,0,"button",25),b.Pb(),b.Pb(),b.Pb()),2&t){var e=n.$implicit;b.zb(1),b.mc("ngClass",b.tc(39,P,"CREATED"==e.status,"CONTACTED"==e.status,"CONFIRMED"==e.status,"CANCELED"==e.status)),b.zb(1),b.Nc(" Order ID : ",e.id," "),b.zb(2),b.Mc(b.hc(5,20,e.created,"medium")),b.zb(2),b.mc("ngClass",b.tc(44,P,"CREATED"==e.status,"CONTACTED"==e.status,"CONFIRMED"==e.status,"CANCELED"==e.status)),b.zb(1),b.Nc(" Status : ",e.status," "),b.zb(10),b.Mc(e.depart),b.zb(5),b.Mc(e.destination),b.zb(5),b.Mc(b.gc(28,23,e.departDate)),b.zb(6),b.Mc(b.gc(34,25,e.returnDate)),b.zb(6),b.Mc(e.flightClass),b.zb(10),b.Mc(e.numberOfAdult),b.zb(5),b.Mc(e.numberOfChildren),b.zb(5),b.Mc(null==e||null==e.user?null:e.user.name),b.zb(6),b.Pc("",b.ic(66,27,null==e||null==e.user?null:e.user.phoneNumber,0,5),"-",b.ic(67,31,null==e||null==e.user?null:e.user.phoneNumber,5,8)," ",b.ic(68,35,null==e||null==e.user?null:e.user.phoneNumber,8,11),""),b.zb(8),b.Mc(null==e||null==e.user?null:e.user.email),b.zb(2),b.mc("ngIf","CONTACTED"==e.status),b.zb(1),b.mc("ngIf","CREATED"==e.status),b.zb(1),b.mc("ngIf","CREATED"==e.status||"CONTACTED"==e.status)}}function p(t,n){if(1&t&&(b.Ob(0),b.Jc(1,h,78,49,"div",13),b.Nb()),2&t){var e=b.ec();b.zb(1),b.mc("ngForOf",null==e.flightPage?null:e.flightPage.content)}}function m(t,n){if(1&t){var e=b.Rb();b.Qb(0,"pagination",29),b.bc("getPage",function(t){b.Ac(e);var n=b.ec();return n.getFlightsByStatus(n.status,t)}),b.Pb()}if(2&t){var c=b.ec();b.mc("page",c.flightPage)}}var C=function(t){return{active:t}},Q=function(){function t(t){this.flightService=t,this.status=null,this.loading=!1}return t.prototype.ngOnInit=function(){this.getFlightsByStatus(this.status)},t.prototype.getFlightsByStatus=function(t,n){return void 0===t&&(t=null),void 0===n&&(n=null),o(this,void 0,void 0,function(){var e,c;return l(this,function(i){switch(i.label){case 0:this.status=t,i.label=1;case 1:return i.trys.push([1,3,,4]),this.loading=!0,e=this,[4,this.flightService.getAllFlightBooking(t,n).toPromise()];case 2:return e.flightPage=i.sent(),this.loading=!1,[3,4];case 3:return c=i.sent(),console.log(c),[3,4];case 4:return[2]}})})},t.prototype.onChangeStatus=function(t,n){return o(this,void 0,void 0,function(){var e=this;return l(this,function(c){switch(c.label){case 0:return confirm("Are you sure to change status of flight request id "+t+" to "+n)?(this.loading=!0,[4,this.flightService.updateFlightBookingStatus(t,n).subscribe(function(n){e.flightPage.content.splice(e.flightPage.content.findIndex(function(n){return n.id==t}),1,n),e.loading=!1})]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.\u0275fac=function(n){return new(n||t)(b.Lb(i.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-list"]],decls:30,vars:18,consts:[[1,"container-fluid"],[1,"row","px-3","details-title","text-left"],[1,"container"],[1,"row"],[1,"col-md-2"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"nav-item",3,"ngClass"],[1,"nav-link",3,"click"],[1,"col-md-10","pb-5"],[4,"ngIf"],[3,"page","getPage",4,"ngIf"],["class","row shadow-sm mx-0 my-3",4,"ngFor","ngForOf"],[1,"row","shadow-sm","mx-0","my-3"],[1,"col-6","text-white","p-2",3,"ngClass"],[1,"float-right"],[1,"col-6","text-right","text-monospace","text-white","p-2",3,"ngClass"],[1,"col-6"],[1,"table","border","table-striped"],[1,"table","border","table-striped","table-hover"],[1,"text-monospace"],[1,"d-flex","justify-content-end","pb-3"],["class","btn btn-sm btn-primary mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-info mx-1",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"btn","btn-sm","btn-info","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[3,"page","getPage"]],template:function(t,n){1&t&&(b.Qb(0,"div",0),b.Qb(1,"span",1),b.Lc(2,"Flight List"),b.Pb(),b.Pb(),b.Qb(3,"div",2),b.Qb(4,"div",3),b.Qb(5,"div",4),b.Qb(6,"nav",5),b.Qb(7,"div",6),b.Qb(8,"h4"),b.Lc(9,"Flight status list"),b.Pb(),b.Pb(),b.Qb(10,"ul",7),b.Qb(11,"li",8),b.Qb(12,"a",9),b.bc("click",function(){return n.getFlightsByStatus()}),b.Lc(13,"ALL"),b.Pb(),b.Pb(),b.Qb(14,"li",8),b.Qb(15,"a",9),b.bc("click",function(){return n.getFlightsByStatus("CREATED")}),b.Lc(16," CREATED "),b.Pb(),b.Pb(),b.Qb(17,"li",8),b.Qb(18,"a",9),b.bc("click",function(){return n.getFlightsByStatus("CONTACTED")}),b.Lc(19," CONTACTED "),b.Pb(),b.Pb(),b.Qb(20,"li",8),b.Qb(21,"a",9),b.bc("click",function(){return n.getFlightsByStatus("CONFIRMED")}),b.Lc(22," CONFIRMED "),b.Pb(),b.Pb(),b.Qb(23,"li",8),b.Qb(24,"a",9),b.bc("click",function(){return n.getFlightsByStatus("CANCELED")}),b.Lc(25," CANCELED "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(26,"div",10),b.Jc(27,u,1,0,"loading",11),b.Jc(28,p,2,1,"ng-container",11),b.Jc(29,m,1,1,"pagination",12),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.zb(11),b.mc("ngClass",b.qc(8,C,null==n.status)),b.zb(3),b.mc("ngClass",b.qc(10,C,"CREATED"==n.status)),b.zb(3),b.mc("ngClass",b.qc(12,C,"CONTACTED"==n.status)),b.zb(3),b.mc("ngClass",b.qc(14,C,"CONFIRMED"==n.status)),b.zb(3),b.mc("ngClass",b.qc(16,C,"CANCELED"==n.status)),b.zb(4),b.mc("ngIf",n.loading),b.zb(1),b.mc("ngIf",!n.loading),b.zb(1),b.mc("ngIf",(null==n.flightPage?null:n.flightPage.totalPages)>1))},directives:[a.n,a.p,r.a,a.o,s.a],pipes:[a.f,a.v],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:14px;font-family:Open Sans,sans-serif;list-style:none;background-color:#4acbd6;padding:3px 15px;margin-bottom:2px}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#eee087}.nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#f1d840;color:#333}"]}),t}(),v=e("KZX/"),E=[{path:"",component:Q}],L=function(){function t(){}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(n){return new(n||t)},imports:[[v.a,c.d.forChild(E)]]}),t}()}}]);