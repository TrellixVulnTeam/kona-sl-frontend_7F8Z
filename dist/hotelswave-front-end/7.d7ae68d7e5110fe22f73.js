(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ns6J:function(e,t,i){"use strict";i.r(t),i.d(t,"ROUTES",function(){return I}),i.d(t,"ServiceCounterModule",function(){return M});var n=i("8Y7J"),r=i("G0yt"),o=i("XNiG"),c=i("jgEc"),s=i("eZfY"),b=i("LLt/"),a=i("EApP"),l=i("iInd"),u=i("s7LF"),d=i("SVse");function v(e,t){if(1&e){var i=n.Rb();n.Qb(0,"div",4),n.Qb(1,"label",5),n.Lc(2,"Is Prepaid Agent? "),n.Qb(3,"span",6),n.Lc(4,"*"),n.Pb(),n.Pb(),n.Qb(5,"select",21),n.bc("ngModelChange",function(e){return n.Ac(i),n.ec().isPrepaidAgent=e}),n.Qb(6,"option",22),n.Lc(7,"Yes"),n.Pb(),n.Qb(8,"option",23),n.Lc(9,"No"),n.Pb(),n.Pb(),n.Pb()}if(2&e){var r=n.ec();n.zb(5),n.mc("ngModel",r.isPrepaidAgent)}}function m(e,t){if(1&e){var i=n.Rb();n.Qb(0,"div",24),n.Qb(1,"label"),n.Lc(2,"Commission (%)"),n.Pb(),n.Qb(3,"input",25),n.bc("ngModelChange",function(e){return n.Ac(i),n.ec().commissionField=e}),n.Pb(),n.Pb()}if(2&e){var r=n.ec();n.zb(3),n.mc("ngModel",r.commissionField)}}var p=function(){function e(e,t,i,n){this.httpCall=e,this.toastrService=t,this.router=i,this.authService=n,this.baseUrl="api/v1/serviceCounter/",this.commissionField="0",this.showPrepaidDiv=!1,this.isPrepaidAgent="1",this.dtOptions={},this.dtTrigger=new o.a}return e.prototype.ngOnInit=function(){this.showPrepaidDiv=this.router.url.includes("/service-agent/"),this.getServiceAdminPageDataFromServer()},e.prototype.isTryToDouble=function(e){this.commissionField=e.split(".").join("")},e.prototype.submit=function(e,t,i,n){var r=this;if(""!==e&&""!==t&&""!==this.commissionField){var o="1"===this.isPrepaidAgent,c=new s.a(e,t,i,parseInt(this.commissionField),!1,o);this.httpCall.sendAuthenticatePostRequestObserver(this.baseUrl+"create","",c).subscribe(function(e){if(null!=e)return(null==e?void 0:e.statusCode)<400?(r.toastrService.success(null==e?void 0:e.message,"Success"),void n.reset()):void r.toastrService.error(null==e?void 0:e.message,"Error");r.toastrService.error("Something Wrong","Error")})}else this.toastrService.error("Name, Phone & Commission are Required","Error")},e.prototype.getServiceAdminPageDataFromServer=function(){var e=this;this.httpCall.sendAuthenticateGetRequestObserver(this.baseUrl+"serviceAdminData","").subscribe(function(t){null!=t?(null==t?void 0:t.statusCode)<400&&(e.pageData=null==t?void 0:t.content):e.toastrService.error("Something Wrong","Error")})},e.\u0275fac=function(t){return new(t||e)(n.Lb(c.a),n.Lb(a.b),n.Lb(l.b),n.Lb(b.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-service-counter-form"]],decls:31,vars:6,consts:[[1,"container-fluid"],[1,"my-3","p-4","shifting-form","label1","text-left"],["myForm","ngForm"],[1,"row"],[1,"col-sm-4"],["for","name"],[1,"required-indicator"],["placeholder","Enter your name","id","name","type","text",1,"form-control"],["name",""],["class","col-sm-4",4,"ngIf"],["for","phone"],["placeholder","Enter your phone","id","phone","type","number",1,"form-control"],["phone",""],[1,"col-sm-6"],["for","email"],["placeholder","Enter your email","id","email","type","email",1,"form-control"],["email",""],["hidden","hidden","type","text",3,"disabled","value"],["class","col-sm-6","id","commissionDiv",4,"ngIf"],[1,"d-flex","flex-row-reverse","bd-highlight",2,"padding-top","20px"],[1,"btn","btn-success","mx-1",3,"click"],["id","isPrepaid",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["id","commissionDiv",1,"col-sm-6"],["id","commissionId","type","number","placeholder","Enter Commission",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var i=n.Rb();n.Qb(0,"div",0),n.Qb(1,"form",1,2),n.Qb(3,"div",3),n.Qb(4,"div",4),n.Qb(5,"label",5),n.Lc(6,"Name "),n.Qb(7,"span",6),n.Lc(8,"*"),n.Pb(),n.Pb(),n.Mb(9,"input",7,8),n.Pb(),n.Jc(11,v,10,1,"div",9),n.Qb(12,"div",4),n.Qb(13,"label",10),n.Lc(14,"Phone "),n.Qb(15,"span",6),n.Lc(16,"*"),n.Pb(),n.Pb(),n.Mb(17,"input",11,12),n.Pb(),n.Pb(),n.Qb(19,"div",3),n.Qb(20,"div",13),n.Qb(21,"label",14),n.Lc(22,"Email"),n.Pb(),n.Mb(23,"input",15,16),n.Pb(),n.Mb(25,"input",17),n.Mb(26,"input",17),n.Jc(27,m,4,1,"div",18),n.Pb(),n.Qb(28,"div",19),n.Qb(29,"button",20),n.bc("click",function(){n.Ac(i);var e=n.xc(10),r=n.xc(18),o=n.xc(24),c=n.xc(2);return t.submit(e.value,r.value,o.value,c)}),n.Lc(30," Submit "),n.Pb(),n.Pb(),n.Pb(),n.Pb()}2&e&&(n.zb(11),n.mc("ngIf",t.showPrepaidDiv),n.zb(14),n.nc("value",null==t.pageData?null:t.pageData.serviceType),n.mc("disabled",!0),n.zb(1),n.nc("value",null==t.pageData?null:t.pageData.serviceName),n.mc("disabled",!0),n.zb(1),n.mc("ngIf",!t.authService.hasRole("SERVICE_ADMIN_SHIP")&&!t.authService.hasRole("SERVICE_ADMIN_HOTEL")))},directives:[u.y,u.o,u.p,d.p,u.v,u.n,u.q,u.r,u.x,u.s,u.b],styles:[""]}),e}(),f=i("oTcB");function h(e,t){if(1&e){var i=n.Rb();n.Qb(0,"div"),n.Qb(1,"button",9),n.bc("click",function(){n.Ac(i);var e=n.ec().$implicit;return n.ec().enableAndDisable(null==e?null:e.id)}),n.Lc(2,"Disable"),n.Pb(),n.Pb()}}function g(e,t){if(1&e){var i=n.Rb();n.Qb(0,"div"),n.Qb(1,"button",10),n.bc("click",function(){n.Ac(i);var e=n.ec().$implicit;return n.ec().enableAndDisable(null==e?null:e.id)}),n.Lc(2,"Enable"),n.Pb(),n.Pb()}}function P(e,t){if(1&e&&(n.Qb(0,"tr"),n.Qb(1,"td"),n.Lc(2),n.Pb(),n.Qb(3,"td"),n.Lc(4),n.Pb(),n.Qb(5,"td"),n.Lc(6),n.Pb(),n.Qb(7,"td"),n.Lc(8),n.Pb(),n.Qb(9,"td"),n.Lc(10),n.Pb(),n.Qb(11,"td"),n.Jc(12,h,3,0,"div",8),n.Jc(13,g,3,0,"div",8),n.Pb(),n.Pb()),2&e){var i=t.$implicit;n.zb(2),n.Mc(null==i?null:i.name),n.zb(2),n.Mc(null==i?null:i.phoneNumber),n.zb(2),n.Mc(null==i?null:i.email),n.zb(2),n.Mc(i.serviceName),n.zb(2),n.Mc(i.commissionPercent),n.zb(2),n.mc("ngIf",null==i?null:i.isActive),n.zb(1),n.mc("ngIf",!(null!=i&&i.isActive))}}var Q=function(){function e(e,t){this.httpCall=e,this.toastrService=t,this.baseUrl="api/v1/serviceCounter/",this.dtOptions={},this.dtTrigger=new o.a}return e.prototype.ngOnInit=function(){this.dtOptions={pagingType:"full_numbers"},this.getAllServiceCounterList()},e.prototype.getAllServiceCounterList=function(){var e=this;this.httpCall.sendAuthenticateGetRequestObserver(this.baseUrl+"getAll","").subscribe(function(t){null!=t?(null==t?void 0:t.statusCode)<400&&(e.allServiceCounter=t,e.dtTrigger.next()):alert("Something Wrong")})},e.prototype.enableAndDisable=function(e){var t=this;""!==e&&void 0!==e&&confirm("Are you sure ?")&&this.httpCall.sendAuthenticateGetRequestObserver("api/v1/serviceAdmin/"+e,"").subscribe(function(e){if(null!=e)return(null==e?void 0:e.statusCode)<400?(t.getAllServiceCounterList(),t.toastrService.success("User Successfully Updated"),void t.dtTrigger.next()):void t.toastrService.error(null==e?void 0:e.message);alert("Something Wrong")})},e.\u0275fac=function(t){return new(t||e)(n.Lb(c.a),n.Lb(a.b))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-list-form"]],decls:23,vars:3,consts:[["datatable","",1,"table","table-hover","table-responsive-sm","border",3,"dtOptions","dtTrigger"],[2,"background-color","#f8f9fa"],["colspan","6"],[1,"row"],[1,"col"],[1,"mr-auto"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(n.Qb(0,"table",0),n.Qb(1,"thead"),n.Qb(2,"tr",1),n.Qb(3,"td",2),n.Qb(4,"div",3),n.Qb(5,"div",4),n.Qb(6,"h5",5),n.Lc(7,"List of Service Counters"),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(8,"tr"),n.Qb(9,"th",6),n.Lc(10,"Name"),n.Pb(),n.Qb(11,"th"),n.Lc(12,"Phone"),n.Pb(),n.Qb(13,"th"),n.Lc(14,"Email"),n.Pb(),n.Qb(15,"th"),n.Lc(16,"Service"),n.Pb(),n.Qb(17,"th"),n.Lc(18,"Commission (%)"),n.Pb(),n.Qb(19,"th"),n.Lc(20,"Action"),n.Pb(),n.Pb(),n.Pb(),n.Qb(21,"tbody"),n.Jc(22,P,14,7,"tr",7),n.Pb(),n.Pb()),2&e&&(n.mc("dtOptions",t.dtOptions)("dtTrigger",t.dtTrigger),n.zb(22),n.mc("ngForOf",null==t.allServiceCounter?null:t.allServiceCounter.content))},directives:[f.a,d.o,d.p],styles:[""]}),e}();function L(e,t){1&e&&n.Mb(0,"app-service-counter-form")}function S(e,t){1&e&&(n.Ob(0),n.Mb(1,"app-list-form"),n.Nb())}var y=function(){function e(){this.activeNav=1}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Fb({type:e,selectors:[["app-add"]],decls:12,vars:4,consts:[[1,"container"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"]],template:function(e,t){if(1&e&&(n.Qb(0,"div",0),n.Qb(1,"ul",1,2),n.bc("activeIdChange",function(e){return t.activeNav=e}),n.Qb(3,"li",3),n.Qb(4,"a",4),n.Lc(5,"Create"),n.Pb(),n.Jc(6,L,1,0,"ng-template",5),n.Pb(),n.Qb(7,"li",3),n.Qb(8,"a",4),n.Lc(9,"List"),n.Pb(),n.Jc(10,S,2,0,"ng-template",5),n.Pb(),n.Pb(),n.Mb(11,"div",6),n.Pb()),2&e){var i=n.xc(2);n.zb(1),n.mc("activeId",t.activeNav),n.zb(2),n.mc("ngbNavItem",1),n.zb(4),n.mc("ngbNavItem",2),n.zb(4),n.mc("ngbNavOutlet",i)}},directives:[r.n,r.p,r.q,r.o,r.s,p,Q],styles:[""]}),e}(),C=i("KZX/"),A=i("UPO+"),I=[{path:"add",component:y}],M=function(){function e(){}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},imports:[[C.a,l.d.forChild(I),A.b,f.b]]}),e}()}}]);